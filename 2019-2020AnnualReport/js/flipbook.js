try{window.initFlipbook=function(e){var t=$("#pageflip");t.pageflipInit(e),window.isPrintCss=!1},function(){var e=function(e){var t={};$.extend(t,this.config,e),this.config=t,"string"==typeof this.config.el?($(document).on("mouseenter",this.config.el,this,this.events.show),$(document).on("mouseleave",this.config.el,this,this.events.hide)):this.config.el instanceof $&&(this.config.el.on("mouseenter",null,this,this.events.show),this.config.el.on("mouseleave",null,this,this.events.hide))};e.prototype.config={orientation:"top",background:"blue",color:"white",speed:0,margin:0,fixedY:null,text:!1},e.prototype.events={show:function(e){var o=$(this).data("tooltip")?$(this).data("tooltip"):e.data.config.text,i=$(this).data("tooltip-hidden")===!0;if(o&&!i){var r=e.data.config,a=t(o,r);$("body").after(a);var s=$(this)[0].getBoundingClientRect(),c=$(a).height(),u=parseInt($(a).width()/2,10)-parseInt(s.width/2,10),l={top:function(){var e=s.left-u,t=r.fixedY?r.fixedY()-r.margin:s.top-c-r.margin;$(a).css("transform",n(e,t))},bottom:function(){var e=s.left-u,t=r.fixedY?r.fixedY()+s.height+r.margin:s.top+s.height+r.margin;$(a).css("transform",n(e,t))}};l[r.orientation](),$(a).fadeIn(r.speed)}},hide:function(e){$(".tooltip-container").remove()}};var t=function(e,t){var n=$("<div></div>",{"class":"tooltip-container"}),o=$("<div></div>",{"class":"tooltip"}),i=$("<div></div>",{"class":"tooltip-text"}),r=$("<div></div>",{"class":"tooltip-triangle-"+t.orientation});return r.css("border-"+t.orientation+"-color",t.background),i.css("background-color",t.background),i.css("color",t.color),n.append(o.append(i.html(e)).append(r))},n=function(e,t){return"translate("+e+"px, "+t+"px)"};window.FlipbookTooltips=e}(),window.FlipbookCursorManager=function(e,t){var n=(e.cursorColor,e.incDirPath),o={zoomin:n+"inc/img/controlbar/zoomin.cur",zoomout:n+"inc/img/controlbar/zoomout.cur"};this.setCursor=function(e,t){e instanceof jQuery&&e.length>0&&e.each(function(){var e=$(this);switch(t){case"zoomin":case"zoomout":e.data("cursor")!==t&&(e.data("cursor",t),e.css("cursor","url('"+o[t]+"'), auto"));break;default:"auto"!==e.data("cursor")&&(e.css("cursor","auto"),e.data("cursor","auto"))}})};var i=function(){var e=function(e){$("<div></div>").css({position:"absolute",width:"0px",height:"1px",cursor:"url('"+e+"'), auto"}).appendTo($("body"))};$.each(o,function(t,n){e(n)})};i()},function(){window.FlipbookUrl=function(e,t){var n,o=e.singlePageMode;this.getPageNumberFromUrl=function(){if("undefined"===$.type(n)){var e,o=window.location.search;if("string"===$.type(o)&&o.length>0){var r=/page=([^&]*)/g,a=r.exec(o);if($.isArray(a)&&a.length>1){var s=a[1],c=parseInt(s,10);$.isNumeric(c)&&(e=i(c))}}"undefined"===$.type(e)&&(e=t.getFirstPageNumber()),n=e}return n},this.updateUrl=function(e){var t=e.split("-"),o=t[0],i=window.location.protocol+"//"+window.location.host+window.location.pathname,r=parseInt(o,10);window.history&&"function"===$.type(window.history.pushState)&&$.isNumeric(r)&&("http:"!==location.protocol&&"https:"!==location.protocol||(n!=r?(window.history.pushState({pagenum:r},"",i+"?page="+r),n=r):window.history.replaceState({pagenum:r},"",i+"?page="+r)))};var i=function(e){var n=t.getFirstPageNumber(),i=t.getLastPageNumber();return n>e?e=n:e>i&&(e=i),!o&&e>1&&(e-=e%2),e},r=function(){$(window).on("popstate",function(e,o){if(window.history.state&&window.history.state.pagenum){var r=i(window.history.state.pagenum);r&&(n=r,t.gotoPageNumber(r,!0))}})};r()}}(),function(){var e=function(e){var t={};$.extend(t,this.config,e),this.config=t,$(document).on("mouseenter",this.config.el,this,this.events.show),$(document).on("mouseleave",this.config.el,this,this.events.hide)};e.prototype.config={delayBlinkTime:100,blinkTime:300,background:"blue"},e.prototype._blinkStart=function(){if("waiting"===this.data.status){var e=new Date-this.data.pageOpenTimestamp;e>=this.config.blinkTime&&(this.data.status="process",this.data.blinkTimestamp=new Date,$(this.config.el).css("background",this.config.background))}},e.prototype._blinkEnd=function(){if("process"===this.data.status){var e=new Date-this.data.blinkTimestamp;e>=this.config.blinkTime&&(this.data.status="done",$(this.config.el).css("background","transparent"))}},e.prototype.data={pageOpenTimestamp:null,blinkTimestamp:null,status:null},e.prototype.blink=function(){this.data.status&&"done"!==this.data.status||(this.data.pageOpenTimestamp=new Date),this.data.status="waiting"},e.prototype.OEF=function(){this.data.status&&"done"!==this.data.status&&(this._blinkStart(),this._blinkEnd())},e.prototype.events={show:function(e){$(this).css("opacity",.5),$(this).css("background",e.data.config.background)},hide:function(){$(this).css("background","transparent")}},window.FlipbookLinksFading=e}(),!function(e,t,n,o){"use strict";function i(e,t,n){return setTimeout(u(e,n),t)}function r(e,t,n){return Array.isArray(e)?(a(e,n[t],n),!0):!1}function a(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==o)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function s(t,n,o){var i="DEPRECATED METHOD: "+n+"\n"+o+" AT \n";return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=e.console&&(e.console.warn||e.console.log);return r&&r.call(e.console,i,o),t.apply(this,arguments)}}function c(e,t,n){var o,i=t.prototype;o=e.prototype=Object.create(i),o.constructor=e,o._super=i,n&&de(o,n)}function u(e,t){return function(){return e.apply(t,arguments)}}function l(e,t){return typeof e==he?e.apply(t?t[0]||o:o,t):e}function d(e,t){return e===o?t:e}function p(e,t,n){a(v(t),function(t){e.addEventListener(t,n,!1)})}function f(e,t,n){a(v(t),function(t){e.removeEventListener(t,n,!1)})}function h(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function g(e,t){return e.indexOf(t)>-1}function v(e){return e.trim().split(/\s+/g)}function m(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function b(e){return Array.prototype.slice.call(e,0)}function _(e,t,n){for(var o=[],i=[],r=0;r<e.length;){var a=t?e[r][t]:e[r];m(i,a)<0&&o.push(e[r]),i[r]=a,r++}return n&&(o=t?o.sort(function(e,n){return e[t]>n[t]}):o.sort()),o}function y(e,t){for(var n,i,r=t[0].toUpperCase()+t.slice(1),a=0;a<pe.length;){if(n=pe[a],i=n?n+r:t,i in e)return i;a++}return o}function w(){return ye++}function k(t){var n=t.ownerDocument||t;return n.defaultView||n.parentWindow||e}function T(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){l(e.options.enable,[e])&&n.handler(t)},this.init()}function x(e){var t,n=e.options.inputClass;return new(t=n?n:Te?H:xe?O:ke?W:D)(e,P)}function P(e,t,n){var o=n.pointers.length,i=n.changedPointers.length,r=t&Ie&&o-i===0,a=t&(Me|Ee)&&o-i===0;n.isFirst=!!r,n.isFinal=!!a,r&&(e.session={}),n.eventType=t,C(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function C(e,t){var n=e.session,o=t.pointers,i=o.length;n.firstInput||(n.firstInput=F(t)),i>1&&!n.firstMultiple?n.firstMultiple=F(t):1===i&&(n.firstMultiple=!1);var r=n.firstInput,a=n.firstMultiple,s=a?a.center:r.center,c=t.center=I(o);t.timeStamp=me(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=N(s,c),t.distance=E(s,c),S(n,t),t.offsetDirection=M(t.deltaX,t.deltaY);var u=$(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=ve(u.x)>ve(u.y)?u.x:u.y,t.scale=a?L(a.pointers,o):1,t.rotation=a?A(a.pointers,o):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,B(n,t);var l=e.element;h(t.srcEvent.target,l)&&(l=t.srcEvent.target),t.target=l}function S(e,t){var n=t.center,o=e.offsetDelta||{},i=e.prevDelta||{},r=e.prevInput||{};t.eventType!==Ie&&r.eventType!==Me||(i=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},o=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-o.x),t.deltaY=i.y+(n.y-o.y)}function B(e,t){var n,i,r,a,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(t.eventType!=Ee&&(c>Fe||s.velocity===o)){var u=t.deltaX-s.deltaX,l=t.deltaY-s.deltaY,d=$(c,u,l);i=d.x,r=d.y,n=ve(d.x)>ve(d.y)?d.x:d.y,a=M(u,l),e.lastInterval=t}else n=s.velocity,i=s.velocityX,r=s.velocityY,a=s.direction;t.velocity=n,t.velocityX=i,t.velocityY=r,t.direction=a}function F(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ge(e.pointers[n].clientX),clientY:ge(e.pointers[n].clientY)},n++;return{timeStamp:me(),pointers:t,center:I(t),deltaX:e.deltaX,deltaY:e.deltaY}}function I(e){var t=e.length;if(1===t)return{x:ge(e[0].clientX),y:ge(e[0].clientY)};for(var n=0,o=0,i=0;t>i;)n+=e[i].clientX,o+=e[i].clientY,i++;return{x:ge(n/t),y:ge(o/t)}}function $(e,t,n){return{x:t/e||0,y:n/e||0}}function M(e,t){return e===t?Ne:ve(e)>=ve(t)?0>e?Ae:Le:0>t?De:He}function E(e,t,n){n||(n=qe);var o=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(o*o+i*i)}function N(e,t,n){n||(n=qe);var o=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,o)/Math.PI}function A(e,t){return N(t[1],t[0],We)+N(e[1],e[0],We)}function L(e,t){return E(t[0],t[1],We)/E(e[0],e[1],We)}function D(){this.evEl=Ye,this.evWin=Ue,this.pressed=!1,T.apply(this,arguments)}function H(){this.evEl=Ze,this.evWin=Ge,T.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function R(){this.evTarget=Je,this.evWin=Ke,this.started=!1,T.apply(this,arguments)}function z(e,t){var n=b(e.touches),o=b(e.changedTouches);return t&(Me|Ee)&&(n=_(n.concat(o),"identifier",!0)),[n,o]}function O(){this.evTarget=tt,this.targetIds={},T.apply(this,arguments)}function q(e,t){var n=b(e.touches),o=this.targetIds;if(t&(Ie|$e)&&1===n.length)return o[n[0].identifier]=!0,[n,n];var i,r,a=b(e.changedTouches),s=[],c=this.target;if(r=n.filter(function(e){return h(e.target,c)}),t===Ie)for(i=0;i<r.length;)o[r[i].identifier]=!0,i++;for(i=0;i<a.length;)o[a[i].identifier]&&s.push(a[i]),t&(Me|Ee)&&delete o[a[i].identifier],i++;return s.length?[_(r.concat(s),"identifier",!0),s]:void 0}function W(){T.apply(this,arguments);var e=u(this.handler,this);this.touch=new O(this.manager,e),this.mouse=new D(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function X(e,t){e&Ie?(this.primaryTouch=t.changedPointers[0].identifier,Y.call(this,t)):e&(Me|Ee)&&Y.call(this,t)}function Y(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var o=this.lastTouches,i=function(){var e=o.indexOf(n);e>-1&&o.splice(e,1)};setTimeout(i,nt)}}function U(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],r=Math.abs(t-i.x),a=Math.abs(n-i.y);if(ot>=r&&ot>=a)return!0}return!1}function j(e,t){this.manager=e,this.set(t)}function V(e){if(g(e,ut))return ut;var t=g(e,lt),n=g(e,dt);return t&&n?ut:t||n?t?lt:dt:g(e,ct)?ct:st}function Z(){if(!rt)return!1;var t={},n=e.CSS&&e.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(o){t[o]=n?e.CSS.supports("touch-action",o):!0}),t}function G(e){this.options=de({},this.defaults,e||{}),this.id=w(),this.manager=null,this.options.enable=d(this.options.enable,!0),this.state=ft,this.simultaneous={},this.requireFail=[]}function Q(e){return e&bt?"cancel":e&vt?"end":e&gt?"move":e&ht?"start":""}function J(e){return e==He?"down":e==De?"up":e==Ae?"left":e==Le?"right":""}function K(e,t){var n=t.manager;return n?n.get(e):e}function ee(){G.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ne(){ee.apply(this,arguments)}function oe(){G.apply(this,arguments),this._timer=null,this._input=null}function ie(){ee.apply(this,arguments)}function re(){ee.apply(this,arguments)}function ae(){G.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function se(e,t){return t=t||{},t.recognizers=d(t.recognizers,se.defaults.preset),new ce(e,t)}function ce(e,t){this.options=de({},se.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=x(this),this.touchAction=new j(this,this.options.touchAction),ue(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ue(e,t){var n=e.element;if(n.style){var o;a(e.options.cssProps,function(i,r){o=y(n.style,r),t?(e.oldCssProps[o]=n.style[o],n.style[o]=i):n.style[o]=e.oldCssProps[o]||""}),t||(e.oldCssProps={})}}function le(e,n){var o=t.createEvent("Event");o.initEvent(e,!0,!0),o.gesture=n,n.target.dispatchEvent(o)}var de,pe=["","webkit","Moz","MS","ms","o"],fe=t.createElement("div"),he="function",ge=Math.round,ve=Math.abs,me=Date.now;de="function"!=typeof Object.assign?function(e){if(e===o||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==o&&null!==i)for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}return t}:Object.assign;var be=s(function(e,t,n){for(var i=Object.keys(t),r=0;r<i.length;)(!n||n&&e[i[r]]===o)&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),_e=s(function(e,t){return be(e,t,!0)},"merge","Use `assign`."),ye=1,we=/mobile|tablet|ip(ad|hone|od)|android/i,ke="ontouchstart"in e,Te=y(e,"PointerEvent")!==o,xe=ke&&we.test(navigator.userAgent),Pe="touch",Ce="pen",Se="mouse",Be="kinect",Fe=25,Ie=1,$e=2,Me=4,Ee=8,Ne=1,Ae=2,Le=4,De=8,He=16,Re=Ae|Le,ze=De|He,Oe=Re|ze,qe=["x","y"],We=["clientX","clientY"];T.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(k(this.element),this.evWin,this.domHandler)}};var Xe={mousedown:Ie,mousemove:$e,mouseup:Me},Ye="mousedown",Ue="mousemove mouseup";c(D,T,{handler:function(e){var t=Xe[e.type];t&Ie&&0===e.button&&(this.pressed=!0),t&$e&&1!==e.which&&(t=Me),this.pressed&&(t&Me&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Se,srcEvent:e}))}});var je={pointerdown:Ie,pointermove:$e,pointerup:Me,pointercancel:Ee,pointerout:Ee},Ve={2:Pe,3:Ce,4:Se,5:Be},Ze="pointerdown",Ge="pointermove pointerup pointercancel";e.MSPointerEvent&&!e.PointerEvent&&(Ze="MSPointerDown",Ge="MSPointerMove MSPointerUp MSPointerCancel"),c(H,T,{handler:function(e){var t=this.store,n=!1,o=e.type.toLowerCase().replace("ms",""),i=je[o],r=Ve[e.pointerType]||e.pointerType,a=r==Pe,s=m(t,e.pointerId,"pointerId");i&Ie&&(0===e.button||a)?0>s&&(t.push(e),s=t.length-1):i&(Me|Ee)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(s,1))}});var Qe={touchstart:Ie,touchmove:$e,touchend:Me,touchcancel:Ee},Je="touchstart",Ke="touchstart touchmove touchend touchcancel";c(R,T,{handler:function(e){var t=Qe[e.type];if(t===Ie&&(this.started=!0),this.started){var n=z.call(this,e,t);t&(Me|Ee)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Pe,srcEvent:e})}}});var et={touchstart:Ie,touchmove:$e,touchend:Me,touchcancel:Ee},tt="touchstart touchmove touchend touchcancel";c(O,T,{handler:function(e){var t=et[e.type],n=q.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Pe,srcEvent:e})}});var nt=2500,ot=25;c(W,T,{handler:function(e,t,n){var o=n.pointerType==Pe,i=n.pointerType==Se;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)X.call(this,t,n);else if(i&&U.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var it=y(fe.style,"touchAction"),rt=it!==o,at="compute",st="auto",ct="manipulation",ut="none",lt="pan-x",dt="pan-y",pt=Z();j.prototype={set:function(e){e==at&&(e=this.compute()),rt&&this.manager.element.style&&pt[e]&&(this.manager.element.style[it]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return a(this.manager.recognizers,function(t){l(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),V(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)return void t.preventDefault();var o=this.actions,i=g(o,ut)&&!pt[ut],r=g(o,dt)&&!pt[dt],a=g(o,lt)&&!pt[lt];if(i){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}return a&&r?void 0:i||r&&n&Re||a&&n&ze?this.preventSrc(t):void 0},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ft=1,ht=2,gt=4,vt=8,mt=vt,bt=16,_t=32;G.prototype={defaults:{},set:function(e){return de(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(r(e,"recognizeWith",this))return this;var t=this.simultaneous;return e=K(e,this),t[e.id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return r(e,"dropRecognizeWith",this)?this:(e=K(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(r(e,"requireFailure",this))return this;var t=this.requireFail;return e=K(e,this),-1===m(t,e)&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(r(e,"dropRequireFailure",this))return this;e=K(e,this);var t=m(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,o=this.state;vt>o&&t(n.options.event+Q(o)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),o>=vt&&t(n.options.event+Q(o))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=_t)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(_t|ft)))return!1;e++}return!0},recognize:function(e){var t=de({},e);return l(this.options.enable,[this,t])?(this.state&(mt|bt|_t)&&(this.state=ft),this.state=this.process(t),void(this.state&(ht|gt|vt|bt)&&this.tryEmit(t))):(this.reset(),void(this.state=_t))},process:function(e){},getTouchAction:function(){},reset:function(){}},c(ee,G,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=t&(ht|gt),i=this.attrTest(e);return o&&(n&Ee||!i)?t|bt:o||i?n&Me?t|vt:t&ht?t|gt:ht:_t}}),c(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:Oe},getTouchAction:function(){var e=this.options.direction,t=[];return e&Re&&t.push(dt),e&ze&&t.push(lt),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,i=e.direction,r=e.deltaX,a=e.deltaY;return i&t.direction||(t.direction&Re?(i=0===r?Ne:0>r?Ae:Le,n=r!=this.pX,o=Math.abs(e.deltaX)):(i=0===a?Ne:0>a?De:He,n=a!=this.pY,o=Math.abs(e.deltaY))),e.direction=i,n&&o>t.threshold&&i&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&ht||!(this.state&ht)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=J(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),c(ne,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ht)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),c(oe,G,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[st]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime>t.time;if(this._input=e,!o||!n||e.eventType&(Me|Ee)&&!r)this.reset();else if(e.eventType&Ie)this.reset(),this._timer=i(function(){this.state=mt,this.tryEmit()},t.time,this);else if(e.eventType&Me)return mt;return _t},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===mt&&(e&&e.eventType&Me?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=me(),this.manager.emit(this.options.event,this._input)))}}),c(ie,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ut]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ht)}}),c(re,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Re|ze,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(Re|ze)?t=e.overallVelocity:n&Re?t=e.overallVelocityX:n&ze&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ve(t)>this.options.velocity&&e.eventType&Me},emit:function(e){var t=J(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),c(ae,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ct]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,r=e.deltaTime<t.time;if(this.reset(),e.eventType&Ie&&0===this.count)return this.failTimeout();if(o&&r&&n){if(e.eventType!=Me)return this.failTimeout();var a=this.pTime?e.timeStamp-this.pTime<t.interval:!0,s=!this.pCenter||E(this.pCenter,e.center)<t.posThreshold;this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e;var c=this.count%t.taps;if(0===c)return this.hasRequireFailures()?(this._timer=i(function(){this.state=mt,this.tryEmit()},t.interval,this),ht):mt}return _t},failTimeout:function(){return this._timer=i(function(){this.state=_t},this.options.interval,this),_t},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==mt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),se.VERSION="2.0.8",se.defaults={domEvents:!1,touchAction:at,enable:!0,inputTarget:null,inputClass:null,preset:[[ie,{enable:!1}],[ne,{enable:!1},["rotate"]],[re,{direction:Re}],[te,{direction:Re},["swipe"]],[ae],[ae,{event:"doubletap",taps:2},["tap"]],[oe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var yt=1,wt=2;ce.prototype={set:function(e){return de(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?wt:yt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,o=this.recognizers,i=t.curRecognizer;(!i||i&&i.state&mt)&&(i=t.curRecognizer=null);for(var r=0;r<o.length;)n=o[r],t.stopped===wt||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&n.state&(ht|gt|vt)&&(i=t.curRecognizer=n),r++}},get:function(e){if(e instanceof G)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(r(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(r(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=m(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==o&&t!==o){var n=this.handlers;return a(v(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==o){var n=this.handlers;return a(v(e),function(e){t?n[e]&&n[e].splice(m(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&le(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<n.length;)n[o](t),o++}},destroy:function(){this.element&&ue(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},de(se,{INPUT_START:Ie,INPUT_MOVE:$e,INPUT_END:Me,INPUT_CANCEL:Ee,STATE_POSSIBLE:ft,STATE_BEGAN:ht,STATE_CHANGED:gt,STATE_ENDED:vt,STATE_RECOGNIZED:mt,STATE_CANCELLED:bt,STATE_FAILED:_t,DIRECTION_NONE:Ne,DIRECTION_LEFT:Ae,DIRECTION_RIGHT:Le,DIRECTION_UP:De,DIRECTION_DOWN:He,DIRECTION_HORIZONTAL:Re,DIRECTION_VERTICAL:ze,DIRECTION_ALL:Oe,Manager:ce,Input:T,TouchAction:j,TouchInput:O,MouseInput:D,PointerEventInput:H,TouchMouseInput:W,SingleTouchInput:R,Recognizer:G,AttrRecognizer:ee,Tap:ae,Pan:te,Swipe:re,Pinch:ne,Rotate:ie,Press:oe,on:p,off:f,each:a,merge:_e,extend:be,assign:de,inherit:c,bindFn:u,prefixed:y});var kt="undefined"!=typeof e?e:"undefined"!=typeof self?self:{};kt.Hammer=se,"function"==typeof define&&define.amd?define(function(){return se}):"undefined"!=typeof module&&module.exports?module.exports=se:e[n]=se}(window,document,"Hammer"),window.makeObjectObservable=function(e){if("object"==typeof e){var t={};e.addEventHandler=function(e,n){$.isArray(t[e])||(t[e]=[]),t[e].push(n)},e._emitEvent=function(e,n){$.isArray(t[e])&&$.each(t[e],function(e,t){t(n)})}}},function(){var e=50,t=26,n=10,o=200;window.NavigationArrowsManager=function(i,r,a){var s,c,u,l,d,p,f,h=!0;this.init=function(){s=$("#Template-navigationButtons").html(),c=$(s),u=c.closest("#b-prev"),l=c.closest("#b-next"),d=c.closest("#b-first"),p=c.closest("#b-last"),v(),g(),$("#pf-stage").prepend(c)},this.setPosition=function(o){var r=i.getStageWidth(),a=i.getStageHeight(),s=i.getMargin(),c=i.getBookWidth(),h=i.getBookHeight(),g=i.getControlbarHeight(),v=r,b=a-2*s-g,_=(v-c*o)/2,y=(b-h*o)/2+s,w=o*h,k=o*c;f={prev:{left:_-e-n,top:y+w/2-e/2},first:{left:_-t-n-8,top:y+w-t},next:{left:_+k+n,top:y+w/2-e/2},last:{left:_+k+n+8,top:y+w-t}},m(u,f.prev),m(l,f.next),m(d,f.first),m(p,f.last)},this.shift=function(e,t){if("undefined"!==$.type(f)){var n,a=i.getPN(),s=i.getEndPN();"undefined"===$.type(s)&&(s=a);var c=i.getBookWidth(),g=i.getBookScale(),v=r.SinglePageMode;n=v?c/2:c/4;var b,_=i.getLastPageNumber(),y=Math.abs(e)===n&&!v,w=v&&(0===a||a===_-1);if(b=v?0:e*g,y||w){var k=!v&&e>0,T=v&&a===_-1;k||T?($.each([["next",l],["last",p]],function(e,t){h&&(a===_-1?t[1].hide():t[1].fadeOut(o))}),$.each([["prev",u],["first",d]],function(e,t){m(t[1],f[t[0]].left+b,f[t[0]].top),h&&0!==s&&t[1].fadeIn(o)})):($.each([["prev",u],["first",d]],function(e,t){h&&(0===a?t[1].hide():t[1].fadeOut(o))}),$.each([["next",l],["last",p]],function(e,t){m(t[1],f[t[0]].left+b,f[t[0]].top),h&&s!==_-1&&t[1].fadeIn(o)}))}else $.each([["prev",u],["first",d],["next",l],["last",p]],function(t,n){0!==s&&s!==_-1&&(m(n[1],f[n[0]].left+b,f[n[0]].top),h&&((0!==e||v)&&w||n[1].fadeIn(o)))}),h&&(v?0===a?(s!==_-1&&(l.css("display","block"),p.css("display","block")),u.css("display","none"),d.css("display","none")):a===_-1&&(0!==s&&(u.css("display","block"),d.css("display","block")),l.css("display","none"),p.css("display","none")):0!==e&&(0===a||2===a?(s!==_-1&&(l.css("display","block"),p.css("display","block")),u.css("display","none"),d.css("display","none")):(0!==s&&(u.css("display","block"),d.css("display","block")),l.css("display","none"),p.css("display","none"))))}},this.toggle=function(e){if(e){var t=i.getPN(),n=i.getLastPageNumber(),r=i.getEndPN();"undefined"===$.type(r)&&(r=t),0===t?(l.fadeIn(o),p.fadeIn(o)):t===n-1?(u.show(),d.show()):c.show(),h=!0}else c.hide(),h=!1};var g=function(){u.on("click",function(e){e.preventDefault(),i.gotoPrevPage(!0)}),l.on("click",function(e){e.preventDefault(),i.gotoNextPage(!0)}),d.on("click",function(e){e.preventDefault(),i.gotoFirstPage(!0),d.add(u).fadeOut(o)}),p.on("click",function(e){e.preventDefault(),i.gotoLastPage(!0),p.add(l).fadeOut(o)})},v=function(){if("string"===$.type(a.color)&&c.find("g").css("fill",a.color),"string"===$.type(a.hoverColor)){var e="mouseenter",t="mouseleave";if(i.getIsTouchDevice()){var n=i.getPfEvent();e=n.__onStart,t=n.__onEnd}c.each(function(){$(this).on(e,function(){$(this).find("g").css("fill",a.hoverColor)}),$(this).on(t,function(){$(this).find("g").css("fill",a.color)})})}},m=function(e,t,n){"undefined"!==$.type(t)&&"undefined"!==$.type(n)||(n=t.top,t=t.left),e.css({transform:"translate("+Math.round(t)+"px, "+Math.round(n)+"px)"})};this.init()},window.NavigationArrowsManager.getSize=function(){return n+e}}(),window.AudioPlayer=function(e){var t={},n=1;this.init=function(){e&&$.each(e,function(e,o){if("undefined"!=typeof o&&"string"==typeof o.src){var i=new Audio;i.src=o.src,i.preload="auto",i.loop=!1,"number"==typeof o.volume?i.volume=o.volume:i.volume=n,t[e]=i}})},this.playSound=function(e){"undefined"!=typeof t[e]&&(t[e].paused||(t[e].pause(),t[e].currentTime=0),t[e].play())},this.init()},window.VideoManager=function(e){var t=this;window.makeObjectObservable(this),this.init=function(){e.addEventHandler("onLoad",n),e.addEventHandler("onFlip",o)};var n=function(e){var n=$("#page"+e),o="click";$(n).find(".youtube-player").each(function(){var e=$(this),n=$("<div></div>");e.parent().css({width:$(this).data("width"),height:$(this).data("height"),top:$(this).data("top"),left:$(this).data("left")}),n.html(i(e.data("id"))),n.on(o,function(){var e=n.parent();r(e,e.data("id")),t._emitEvent("onVideoFrameClick")}),e.append(n)}),$(n).find(".vimeo-player").each(function(){var e=$(this);$p=$("<div></div>"),$.getJSON("http://www.vimeo.com/api/v2/video/"+e.data("id")+".json?callback=?",{format:"json"},function(e){$p.html('<img class="video-thumb" src="'+e[0].thumbnail_large+'"><div class="play-button"></div>')}),e.parent().css({width:$(this).data("width"),height:$(this).data("height"),top:$(this).data("top"),left:$(this).data("left")}),$p.on(o,function(e){var n=$(e.target).parent().parent();a(n,n.data("id")),t._emitEvent("onVideoFrameClick")}),e.append($p)})},o=function(){var e=$(".video-iframe");e.each(function(e){$(this).remove()})},i=function(e){return'<img class="video-thumb" style="background:red" src="//i.ytimg.com/vi/'+e+'/hqdefault.jpg"><div class="play-button"></div>'},r=function(e,t){var n=$("<iframe></iframe>");n.attr("src","//www.youtube.com/embed/"+t+"?autohide=2&border=0&wmode=opaque&enablejsapi=1&controls=1&showinfo=1&autoplay=1&rel=0"),n.attr("frameborder","0"),n.attr("class","video-iframe"),n.attr("z-index","1"),n.attr("id",t),n.attr("allowfullscreen","1"),e.append(n)},a=function(e,t){var n=$("<iframe></iframe>");n.attr("src","//player.vimeo.com/video/"+t+"?api=1&player_id="+t+"&color=ffffff&title=0&byline=0&portrait=0&autoplay=1"),n.attr("frameborder","0"),n.attr("class","video-iframe"),n.attr("z-index","1"),n.attr("id",t),e.append(n)};this.init()},window.SearchManager=function(e,t,n){var o,i=100,r=e.getPageInfoList();this.init=function(){},this.search=function(e,t){"undefined"===$.type(o)&&a();var n=[];return $.each(o,function(o,r){var a=r.innerText,c=s(a,e),u=[];$.each(c,function(n,o){var s,c,l="",d=i-e.length;if(d>6){var p,f,h,g=Math.floor((d-6)/2),v=o,m=a.length-e.length-o,b=v>g,_=m>g;b&&_?(s=o-g,c=o-1+e.length+g,p=!0,f=!0):b&&!_?(c=a.length-1,h=g-m,s=v>h+g?o-g-h:0,p=!0,f=!1):_&&!b?(s=0,h=g-v,c=m>h+g?o+e.length-1+g+h:a.length-1,p=!1,f=!0):(s=0,c=a.length-1,p=!1,f=!1),0>s&&(s=0),c>a.length-1&&(c=a.length-1);var y=a.substring(s,c+1);l=y.replace(new RegExp("("+e+")","gi"),"<div class='SearchResult-highlight'>$1</div>"),p&&(l="..."+l),f&&(l+="...")}else l="...<div class='"+t+"'>"+e+"</div>...",s=0,c=a.length-1;var w=!1;$.each(u,function(t,n){var i=n.snippetPositionLeftIdx,r=n.snippetPositionRightIdx;o>=i&&o+e.length-1<=r&&(w=!0)}),w||u.push({pageInfoObject:r,snippet:l,snippetPositionLeftIdx:s,
snippetPositionRightIdx:c})}),n=n.concat(u)}),n};var a=function(){if(o=[],"undefined"!==$.type(window.flipbookSettings.content)){var e=window.flipbookSettings.content;$.each(r,function(t,n){if("string"===$.type(n.__ThumbnailImageUrl)&&"undefined"!==$.type(n.__PageNumber)&&n.__PageNumber>0){var i=n.__PageNumber;if("undefined"!==$.type(e[i])){var r=$.trim(e[i].replace(/\s+/g," ")),a={pageNumber:i,innerText:r,thumbnail:n.__ThumbnailImageUrl};o.push(a)}}})}},s=function(e,t){var n=[];if("string"===$.type(e)&&e.length>0&&"string"===$.type(t)&&t.length>0)for(var o=e.toLowerCase(),i=t.toLowerCase(),r=o.indexOf(i);-1!==r&&n.length<1e3;)n.push(r),r=o.indexOf(i,r+1);return n};this.init()},window.SearchScreenManager=function(e,t,n){var o,i,r,a,s,c,u,l,d,p,f=this,h=168,g=$("body"),v=!1,m=[],b=0;this.init=function(){r=$($("#Template-searchScreen").html()),s=r.find(".SearchScreen-closeButton"),i=$($("#Template-searchScreenRes").html()),c=r.find(".SearchScreen-inputField"),u=r.find(".SearchScreen-resultsOpaqueContent"),l=r.find(".SearchScreen-resultsBackground"),a=r.find(".SearchScreen-contentTransparent"),c.on("input",_);var e=new Hammer(s.find(".SearchScreen-closeButtonImg")[0]);e.on("tap",function(e){f.closeSearchScreen(),e.srcEvent.preventDefault()}),l.css("background-color",t.searchResultsBackground),a.css("background-color",t.searchScreenBackground),c.css({"background-color":t.searchInputBackground,color:t.searchInputText}),l.css({"background-color":t.searchResultsBackground}),u.css("color",t.searchResultsText),s.find("svg").css("color",t.color1),c.css("border","0"),u.css("color",t.searchResultsText),d=u.parent(),d.on("scroll",w)},this.openSearchScreen=function(){v||(g.append(r),"undefined"===$.type(o)&&(o=Math.ceil(u.height()/h)),u.html(""),c.val(""),b=0,c.focus(),v=!0)},this.closeSearchScreen=function(){v&&(r.detach(),v=!1)};var _=function(e){var t=$(e.target).val();u.html(""),b=0,t.length>2&&(m=n.search(t,"SearchScreenRes-highlight"),w())},y=function(e,n){n||e.css("border-bottom","1px solid "+t.searchResultsSeparator)},w=function(t){var n=d.scrollTop(),r=u.height(),a=(n+r)/d.prop("scrollHeight");if(a>.8&&b<m.length+1){var s=b;$.each(Array(o),function(t){var n=b+t;if(n<m.length){var o=m[n],r=i.clone(),a=r.find(".SearchScreenRes-thumbnail img");a.attr("src",o.pageInfoObject.thumbnail);var c=r.find(".SearchScreenRes-content");c.html(o.snippet);var l=n===m.length-1;if(y(r,l),u.append(r),"undefined"===$.type(p)){var d=r.find(".SearchScreenRes-container");p=d.innerWidth()-d.width()}r.css("padding-bottom",p+"px"),r.css("padding-top",p+"px");var h=new Hammer(r[0]);h.on("tap",function(){e.gotoPageNumber(o.pageInfoObject.pageNumber,!0),f.closeSearchScreen()}),s+=1}}),b=s}};f.init()},window.SearchTooltipManager=function(e,t,n,o){var i,r,a,s,c,u,l,d,p,f,h=this,g=[],v=0,m=30,b="click";window.makeObjectObservable(this),this.getMiniTooltip=function(){return i},this.getFullTooltip=function(){return r},this.toggleTooltipMini=function(e){o.toggleTooltip(i,e),e?(a.val(""),a.css("visibility","visible"),a.focus()):a.css("visibility","hidden")},this.toggleTooltipFull=function(e){o.toggleTooltip(r,e),e?s.css("visibility","visible"):s.css("visibility","hidden")};var _=function(){if(e.getIsTouchDevice()){var t=e.getPfEvent();b=b+" "+t.__onEnd}i=$(".ControlbarTooltip--searchMini"),r=$(".ControlbarTooltip--searchFull"),a=i.find(".SearchMini-input"),s=r.find(".SearchFull-input"),c=r.find(".SearchFull-noResults"),u=r.find(".SearchFull-results"),l=r.find(".SearchFull-closeButton"),d=r.find(".SearchFull-searchButton"),p=i.find(".SearchMini-searchButton"),f=$($("#Template-searchResult").html()),i.add(r).on("mousedown mouseup mousemove",function(e){e.stopPropagation()}),a.add(s).on("input",k),a.add(s).keypress(function(e){13===e.which&&k()}),p.add(d).on(b,function(e){k()}),l.on(b,function(){h._emitEvent("closeButtonClick")}),u.on("scroll",T),y()},y=function(){a.add(s).css({"background-color":t.searchInputBackground,color:t.searchInputText}),a.add(s).css("border","0"),u.css("color",t.searchResultsText),r.find(".SearchFull-resultsContainer").css({"background-color":t.searchResultsBackground}),c.css("color",t.searchResultsSeparator)},w=function(e){e.css("background-color",t.searchResultsBackground),e.css("border-bottom","1px solid "+t.searchResultsSeparator)},k=function(){var e="";e=i.hasClass("ControlbarTooltip--active")?a.val():s.val(),g=[],v=0,e.length>2?(g=n.search(e,"SearchResult-highlight"),h.toggleTooltipMini(!1),h.toggleTooltipFull(!0),s.val(e),s.focus(),s.val(""),s.val(e),u.empty(),g.length>0?(c.hide(),T()):c.show()):(u.empty(),c.show())},T=function(){var t=u.scrollTop(),n=u.height(),o=(t+n)/u.prop("scrollHeight");if(o>.8&&v<g.length+1){var i=v;$.each(Array(m),function(t){var n=v+t;if(n<g.length){var o=g[n],r=f.clone(),a=r.find(".SearchResult-thumbnail");a.append($("<img>").attr("src",o.pageInfoObject.thumbnail));var s=r.find(".SearchResult-content");s.html(o.snippet),w(r),u.append(r),r.on(b,function(){e.gotoPageNumber(o.pageInfoObject.pageNumber,!0),h.toggleTooltipFull(!1)}),i+=1}}),v=i}};_()},window.ControlBar=function(e,t,n,o){var i,r,a,s,c,u,l,d,p,f,h,g,v,m,b,_,y,w,k,T,x,P,C,S,B,F,I,M,E,N,A,L,D,H,R,z,O=this,q=$("#Template-controlBar"),W={color1:"#b7b7b7",color2:"#ebebeb",background:"#272727",pagerText:"#cccccc",tooltipBackground1:"#121212",tooltipBackground2:"#121212",print1:"#808080",print2:"#FFFFFF",print3:"#ffffff",search1:"#121212",searchScreenBackground:"#000000",searchInputBackground:"#121212",searchInputText:"#cccccc",searchResultsBackground:"#dfdfdf",searchResultsSeparator:"#4a4a4a",searchResultsText:"#4a4a4a"},X={},Y={color1:[".ControlBar-backToBeginningActiveImg svg",".ControlBar-backActiveImg svg",".ControlBar-forwardActiveImg svg",".ControlBar-forwardToEndActiveImg svg",".ControlBar-printButtonImg svg",".ControlBar-downloadButtonImg svg",".ControlBar-searchButtonImg svg",".ControlBar-menuButtonImg svg",".ControlBar-fullscreenButtonImg svg",".PrintMenu-iconImg svg",".SearchMini-searchButtonImg",".SearchFull-searchButtonImg"],color2:[".ControlBar-backToBeginningActiveImgHover svg",".ControlBar-backActiveImgHover svg",".ControlBar-forwardActiveImgHover svg",".ControlBar-forwardToEndActiveImgHover svg",".ControlBar-printButtonImgHover svg",".ControlBar-downloadButtonImgHover svg",".ControlBar-searchButtonImgHover svg",".ControlBar-menuButtonImgHover svg",".ControlBar-fullscreenButtonImgHover svg",".PrintMenu-iconImgHover svg",".SearchMini-searchButtonImgHover",".SearchFull-searchButtonImgHover"],print1:[".PrintMenu-iconImg",".PrintMenu-iconImgHover"],inactive:[".ControlBar-backToBeginningInactiveImg",".ControlBar-backInactiveImg",".ControlBar-forwardInactiveImg",".ControlBar-forwardToEndInactiveImg"]},U={color1:[".SearchFull-closeButtonImg"],color2:[".SearchFull-closeButtonImgHover"],print2:[".PrintMenu-iconImg svg"],print3:[".PrintMenu-iconImgHover svg"]},j=.6,V=t.zIndex?t.zIndex:2,Z="click",G=!0,Q=!0,J=5,K=t.useNavBarMinSizes,ee=t.navbarMinHeight,te=t.navbarMinWidth,ne=t.navBarTablet,oe=t.navBarMobile;this.init=function(){if(q.length>0){e.html(q.html()),i=e.children(".ControlBar"),r=i.children(".ControlBar-content"),i.css("z-index",V),s=$(".ControlBar-pageNavBar"),c=s.find(".ControlBar-backToBeginningActive"),u=s.find(".ControlBar-backToBeginningInactive"),l=s.find(".ControlBar-backActive"),d=s.find(".ControlBar-backInactive"),p=s.find(".ControlBar-forwardToEndActive"),f=s.find(".ControlBar-forwardToEndInactive"),h=s.find(".ControlBar-forwardActive"),g=s.find(".ControlBar-forwardInactive"),m=s.find(".ControlBar-pageInputContainer"),v=m.find(".ControlBar-pageInput"),a=$(".ControlBar-otherButtons"),b=a.find(".ControlBar-printButton"),_=a.find(".ControlBar-downloadButton"),y=a.find(".ControlBar-searchButton"),w=a.find(".ControlBar-menuButton"),k=a.find(".ControlBar-fullscreenButton"),t.fullScreenEnabled&&!n.getIsMobileDevice()||k.hide(),t.searchButtonEnabled||y.parent().hide(),t.printButtonEnabled&&!n.getIsMobileDevice()||b.parent().hide(),t.navigationButtonsEnabled||s.hide(),t.downloadButtonEnabled&&!n.getIsPhone()||_.hide(),t.thumbnailsButtonEnabled||w.hide(),R=r.innerWidth()-r.width(),B=a.innerWidth(),F=s.innerWidth(),z=r.outerWidth()-B-F,z-=R,F+R>te&&(te=F+R),t.touchControl&&("pointer"===t.touchType||n.getIsMobileDevice())||r.find(".ControlBar-button").addClass("ControlBar-button--hover"),T=c.add(l).add(p).add(h).add(b).add(_).add(y).add(w).add(k),x=a.find(".ControlbarTooltip--print"),x.on("mousedown mouseup",function(e){return e.stopPropagation(),!1}),ie();var o=se(),P={touchControl:o.touchControl,color1:o.color1,search1:o.search1,searchInputBackground:o.searchInputBackground,searchInputText:o.searchInputText,searchResultsBackground:o.searchResultsBackground,searchResultsSeparator:o.searchResultsSeparator,searchResultsText:o.searchResultsText,searchScreenBackground:o.searchScreenBackground};A=new window.SearchManager(n,P,r),!t.touchControl||"pointer"!==t.touchType&&!n.getIsMobileDevice()?D=new window.SearchTooltipManager(n,P,A,O):L=new window.SearchScreenManager(n,P,A),de()}},this.updatePage=function(){var e,o,i,r,a,s,c=n.getCurrentPageNumber(),u=n.getPageInfoList(),l=u[c],d=u[c+1];S=!1,l&&l.__PageNumber>0||(l=d,d=void 0),"undefined"!=typeof d&&d.__PageNumber>0||(S=!0),e=l.__PageName,i=l.__PageNumber,e?o=e:i>0&&(o=i),S||(r=d.__PageName,s=d.__PageNumber,r?a=r:s>0&&(a=s));var p=0;r||e||"number"===$.type(a)&&"number"===$.type(o)&&a>0&&o>0&&(p=1);var f,h,g=t.pagerText.split("~")[p].split("#");S?o&&(f=e?o:g[0]+o+g[1],h=o):(f=e&&r?o+" - "+a:e?o+" - "+g[0]+a+g[1]:r?g[0]+o+g[1]+" - "+a:g[0]+o+g[1]+a+g[2],h=o+"-"+a),h=encodeURI(h),fe(f),O.adjustButtonsToScreenSize(),t.hashControl&&n.updateHash(h),le()},this.getHeight=function(){var e=0;return"undefined"!==$.type(J)&&(e=r.outerHeight()),e},this.adjustButtonsToScreenSize=function(){ne&&n.getIsTablet()?s.hide():oe&&n.getIsPhone()?s.hide():K===!0?ae():re()},this.toggleTooltip=function(e,t){var n=e.hasClass("ControlbarTooltip--active");"undefined"==typeof t&&(t=!n),t&&!n?e.addClass("ControlbarTooltip--active"):!t&&n&&e.removeClass("ControlbarTooltip--active")};var ie=function(){t.controlbarTooltipEnabled&&(H=new window.FlipbookTooltips({el:i.find("div.ControlBar-button[data-tooltip]"),color:t.controlbarTooltipColor,background:t.controlbarTooltipBackground,orientation:"top",margin:45,fixedY:function(){return $(document).height()-i.height()}}),i.find("div.ControlBar-button[data-tooltip]").on(Z,H.events.hide))},re=function(){var e=function(e){E?(l.hide(),d.toggle(e)):(l.toggle(e),d.hide()),N?(h.hide(),g.toggle(e)):(h.toggle(e),g.hide())},n=function(e){E?(c.hide(),u.toggle(e)):(c.toggle(e),u.hide()),N?(p.hide(),f.toggle(e)):(p.toggle(e),f.hide())},o=function(e){m.toggle(e)};"undefined"===$.type(I)&&(I=l.width()+h.width(),M=c.width()+I+p.width());var r=I+z+4,v=M+z+8,b=R+B+2,_=R+r+B,y=R+v+B,w=y+m.width()+8+6,k=$(window).width();b>k?G&&(s.hide(),a.hide(),i.hide(),G=!1,Q=!1,J=void 0):k>=b&&_>k?0!==J&&(G=!0,i.show(),a.show(),s.hide(),Q=!1,J=0):k>=_&&y>k?2!==J&&(G=!0,i.show(),e(!0),n(!1),o(!1),a.show(),t.navigationButtonsEnabled&&(s.show(),Q=!0),J=2):k>=y&&w>k?4!==J&&(G=!0,i.show(),e(!0),n(!0),o(!1),a.show(),t.navigationButtonsEnabled&&(s.show(),Q=!0),J=4):5!==J&&(G=!0,i.show(),e(!0),n(!0),o(!0),a.show(),t.navigationButtonsEnabled&&(s.show(),Q=!0),J=5)},ae=function(){var e=$(window).width(),n=$(window).height();Q&&(te>e||ee>n)?(s.hide(),Q=!1,G||i.hide()):Q||e>te&&n>ee&&(t.navigationButtonsEnabled&&(s.show(),Q=!0),i.is(":visible")||i.show());var o=F;Q||(o=0),G&&B+o>e?(a.hide(),Q||i.hide(),G=!1):!G&&e>B+o&&(a.show(),i.is(":visible")||i.show(),G=!0)},se=function(){X=$.extend({},W),"object"==typeof t.colors&&$.each(t.colors,function(e,t){X[e]=t}),X.inactive=ve(X.color1),$.each(Y,function(e,t){$.each(t,function(t,n){$(n).css("fill",X[e])})}),$.each(U,function(e,t){$.each(t,function(t,n){$(n).css("color",X[e])})}),r.css("background-color",X.background),v.css("color",X.pagerText);var e=x.add(P).add(C);return e.css("background-color",X.tooltipBackground1),e.find(".ControlbarTooltip-arrow").css("border-top","solid "+X.tooltipBackground1+" 10px"),$(".PrintMenu-choice").css("background-color",X.tooltipBackground2),$(".PrintMenu-caption").css("color",X.color1).hover(function(e){$(this).css("color","mouseenter"===e.type?X.color2:X.color1)}),X},ce=function(e){"undefined"===$.type(E)&&(E=l.is(":hidden")),E&&e?(J>=2&&(l.show(),d.hide()),J>=4&&(c.show(),u.hide())):E||e||(J>=2&&(l.hide(),d.show()),J>=4&&(c.hide(),u.show())),E=!e},ue=function(e){"undefined"===$.type(N)&&(N=h.is(":hidden")),N&&e?(J>=2&&(h.show(),g.hide()),J>=4&&(p.show(),f.hide())):N||e||(J>=2&&(h.hide(),g.show()),J>=4&&(p.hide(),f.show())),N=!e},le=function(){if(!t.navigationLoop){var e=n.getCurrentPageNumber();e>0?ce(!0):0===e&&ce(!1),e<n.getLastPageNumber()-1?ue(!0):e===n.getLastPageNumber()-1&&ue(!1)}},de=function(){T.not(w).on(Z,function(e){e.preventDefault(),n.hideThumbnails()}),r.on("mousedown mouseup",function(e){return e.stopPropagation(),!1}),c.on(Z,function(e){e.preventDefault(),n.gotoFirstPage(!0)}),l.on(Z,function(e){e.preventDefault(),n.gotoPrevPage(!0)}),h.on(Z,function(e){e.preventDefault(),n.gotoNextPage(!0)}),p.on(Z,function(e){e.preventDefault(),n.gotoLastPage(!0)}),pe(),he(),_.on(Z,function(e){e.preventDefault(),n.download()}),w.on(Z,function(e){e.preventDefault(),n.getIsThumbnailMode()?(w.data("tooltip-hidden",!1),n.hideThumbnails()):(w.data("tooltip-hidden",!0),n.showThumbnails())}),T.not(w).on(Z,function(e){n.getIsThumbnailMode()&&n.hideThumbnails()}),k.on(Z,function(e){e.preventDefault(),n.getIsFullScreen()?n.exitFullScreen():n.enterFullScreen()}),ge()},pe=function(){var e,t=function(){var t=v.val(),o=parseInt(t,10);!isNaN(o)||o>n.getLastPageNumber()?n.gotoPageNumber(o,!0):v.val(e),fe()};v.on("click",function(){v.focus()}),v.on("focus",function(){e=v.val(),v.val("")}),v.on("blur",t),v.keypress(function(e){13===e.which&&(n.getIsFullScreen()?t():v.trigger("blur"))})},fe=function(e){"undefined"===$.type(e)&&(e=v.val());var t=35;e.length>5&&(t+=6*(e.length-5)),t+=2,m.css({width:t}),v.val(e)},he=function(){var e=function(){O.toggleTooltip(x,!1),b.data("tooltip-hidden",!1)};b.on(Z,function(){S?(e(),n.printBoth()):(O.toggleTooltip(x),"undefined"!==$.type(D)&&(D.toggleTooltipMini(!1),D.toggleTooltipFull(!1)),b.data("tooltip-hidden",!0))}),y.add(w).add(_).add(k).on(Z,function(){O.toggleTooltip(x,!1)}),x.find(".PrintMenu-choice--left").on(Z,function(t){t.preventDefault(),n.printLeft(),e()}),x.find(".PrintMenu-choice--right").on(Z,function(t){t.preventDefault(),n.printRight(),e()}),x.find(".PrintMenu-choice--both").on(Z,function(t){t.preventDefault(),n.printBoth(),e()}),n.addEventHandler(["onPageChange","onZoomIn","onZoomOut","onLinkClicked"],e),v.on("focus",e),o.addEventHandler("onVideoFrameClick",e)},ge=function(){var e=!1,t=function(){e&&("undefined"===$.type(L)?(e=!1,y.data("tooltip-hidden",!1),"undefined"!==$.type(D)&&(D.toggleTooltipMini(!1),D.toggleTooltipFull(!1))):L.closeSearchScreen())},i=function(){e||("undefined"===$.type(L)?(e=!0,y.data("tooltip-hidden",!0),"undefined"!==$.type(D)&&D.toggleTooltipMini(!0)):L.openSearchScreen())};y.find("svg").on(Z,function(){e?t():i()}),b.add(w).add(_).add(k).on(Z,t),"undefined"!==$.type(D)&&D.addEventHandler("closeButtonClick",t),n.addEventHandler(["onPageChange","onZoomIn","onZoomOut","onLinkClicked"],t),v.on("focus",t),o.addEventHandler("onVideoFrameClick",t)},ve=function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,o){return t+t+n+n+o+o});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e),o=e;if($.isArray(n)&&n.length>3){var i=parseInt(n[1],16),r=parseInt(n[2],16),a=parseInt(n[3],16),s=0,c=0,u=0,l=j,d=Math.ceil(s*l)+Math.ceil(i*(1-l)),p=Math.ceil(c*l)+Math.ceil(r*(1-l)),f=Math.ceil(u*l)+Math.ceil(a*(1-l));o="#"+((1<<24)+(d<<16)+(p<<8)+f).toString(16).slice(1)}return o};this.init()};var _gaq=_gaq||[],userAgent=navigator.userAgent||navigator.vendor||window.opera;if(/Presto/i.test(userAgent)||/Android 2\./i.test(userAgent))throw new Error("use_fallback");!function(e,t,n){"use strict";var o,i,r,a,s,c,u,l,d,p,f,h,g,v,m,b,_,y,w,k,T,x,P,C,S,B,F,I,$,M,E,N,A,L,D,H,R,z,O,q,W,X,Y,U,j,V,Z,G,Q,J,K,ee,te,ne,oe,ie,re,ae,se,ce,ue,le,de,pe,fe,he,he,ge,ve,me,be,_e,ye,we,ke,Te,xe,Pe,Ce,Se,Be,Fe,Ie,$e,Me,Ee,Ne,Ae,Le,De,He,Re,ze,Oe,qe,We,Xe,Ye,Ue,je,Ve,Ze,Ge,Qe,Je,Ke,et,tt,nt,ot,it,rt,at,st,ct,ut,lt,dt,pt,ft,ht,gt,vt,mt,bt,_t,yt,wt,kt,Tt,xt,Pt,Ct,St,Bt,Ft,It,$t,Mt,Et,Nt,At,Lt,Dt,Ht,Rt,zt,Ot,qt,Wt,Xt,Yt,Ut,jt,Vt,Zt,Gt,Qt,Jt,Kt,en,tn,nn,on,rn,an,sn,cn,un,ln,dn,pn,fn,hn,gn,vn,mn,bn,_n,yn,wn,kn,Tn,xn,Pn,Cn,Sn,Bn,Fn,In,$n,Mn,En,Nn,An,Ln,Dn,Hn,Rn,zn,On,qn,Wn,Xn,Yn,Un,jn,Vn,Zn,Gn,Qn,Jn,Kn,eo,to,no,oo,io,ro,ao,so,co,uo,lo,po,fo,ho,go,vo,mo,bo,_o,yo,wo,ko,To,xo,Po,Co,So,Bo,Fo,Io,$o,Mo,Eo,No,Ao,Lo,Do,Ho,Ro,zo,Oo,qo,Wo,Xo,Yo,Uo=!1,jo=!1,Vo="",Zo=700,Go=500,Qo=!1,Jo={},Ko=!0,ei=700,ti=500,ni=!1,oi=!1,ii=oi,ri=!0,ai=!0,si=.1,ci=.3,ui=.15,li=.15,di=e(),pi={},fi=[],hi=Math,gi=hi.PI,vi=["left","right"],mi=!1,bi=!0,_i=hi.sin,yi=hi.asin,wi=hi.cos,ki=hi.sqrt,Ti=hi.abs,xi=hi.floor,Pi=hi.ceil,Ci=hi.round,Si=hi.random,Bi="auto",Fi=85,Ii=function(t){var o,Ke=.3;"string"===e.type(t.IncDirPath)&&(Vo=t.IncDirPath),r=t.IDs,a=t.DefaultID,i=t.Title||"flipbook",s=t.PageWidth||300,c=t.PageHeight||400,u=t.CoverWidth||s,l=t.CoverHeight||c,f="undefined"===e.type(t.HardCover)?!1:t.HardCover,h=t.HardPages||mi,d=t.StageWidth,p=t.StageHeight,v="undefined"===e.type(t.DoubleTapZoomSpeed)?18:t.DoubleTapZoomSpeed,U=t.VerticalMode||mi,Ee=t.SinglePageDesktopMode||mi,Ne="undefined"===e.type(t.SinglePageMobileMode)?!0:t.SinglePageMobileMode,j=t.RightToLeft&&!U||mi,k=t.AutoScale||bi,T=t.FullScale||bi,x=t.FillScale||mi,P=t.UpScale||mi,t.CenterSinglePage="undefined"!==e.type(t.CenterSinglePage)?t.CenterSinglePage:!0,C="undefined"===e.type(t.AutoStageHeight)?mi:Boolean(t.AutoStageHeight),Q="undefined"===e.type(t.ControlbarEnabled)?!0:Boolean(t.ControlbarEnabled),H="undefined"===e.type(t.SearchButtonEnabled)?bi:Boolean(t.SearchButtonEnabled),R="undefined"===e.type(t.PrintButtonEnabled)?mi:Boolean(t.PrintButtonEnabled),q="undefined"===e.type(t.ThumbnailsButtonEnabled)?bi:Boolean(t.ThumbnailsButtonEnabled),Uo=function(e){var t=/android.+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|meego.+mobile|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e);return!(!t&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}(userAgent),jo=Boolean(userAgent.match(/iPad|Android|(?=.*\bWindows\b)(?=.*\bARM\b)/i));var et=32;Uo||jo?(Ae=Ne,h&&(h=!1),Ae&&(et=10),"boolean"===e.type(t.ControlbarEnabledMobile)&&(Q=t.ControlbarEnabledMobile)):Ae=Ee,m="undefined"===e.type(t.Margin)?et:t.Margin,b="undefined"===e.type(t.MarginTop)?m:t.MarginTop,_="undefined"===e.type(t.MarginBottom)?m:t.MarginBottom,y="undefined"===e.type(t.MarginLeft)?m:t.MarginLeft,w="undefined"===e.type(t.MarginRight)?m:t.MarginRight,g=Ae?mi:Boolean(t.CenterSinglePage),F=Ae?bi:t.ScaleToSinglePage||mi,V=Ae?mi:t.AlwaysOpened||mi,Qe={},"undefined"!==e.type(t.FlippingSoundVolume)&&t.FlippingSoundVolume>0&&(Qe.pageFlipping={},Qe.pageFlipping.src="undefined"!==e.type(t.FlippingSoundSrc)?t.FlippingSoundSrc:Vo+"inc/sound/flip.mp3",Qe.pageFlipping.volume="undefined"!==e.type(t.FlippingSoundVolume)?t.FlippingSoundVolume:0),(T||x||P)&&(C=mi),S=t.AutoMaxHeight||mi,B=t.MaxHeightOffset||0,I=t.FlexibleContent||mi,o=t.FlexibleContentMinWidth,$=o==n?768:o,o=t.StartPage,M=o==n?1:o,E=t.MinPageLimit||0,E>M&&(M=E),N=t.MaxPageLimit,A=t.StartAutoFlip||!1,o=t.AutoFlipEnabled,L=o==n?!0:o,D="undefined"===e.type(t.FullScreenEnabled)?bi:Boolean(t.FullScreenEnabled),Ze="undefined"===e.type(t.BackgroundColor)?"#d4d4d4":t.BackgroundColor,Ge="undefined"===e.type(t.BackgroundImage)?null:Vo+t.BackgroundImage,W=t.AutoFlipInterval||2e3,o=t.AutoFlipLoop,X=o==n?!1:o,Y=t.NavigationLoop||mi,o=t.Preflip,Z=o==n?bi:o,G=t.ControlbarToFront||bi,J="undefined"===e.type(t.Thumbnails)?bi:Boolean(t.Thumbnails),o=t.ThumbnailsLazyLoad,K=o==n?bi:o,o=t.ThumbnailsToFront,ee=o==n?mi:o,te=t.ThumbnailsAutoHide||0,ne=t.ThumbnailsHidden||bi,oe=t.ThumbnailWidth||60,ie=t.ThumbnailHeight||80,re=t.ThumbnailAlwaysCentered||mi,J||(q=!1),ae=t.Transparency||mi,o=t.PageCache,se=o==n?5:o,ce=t.NoFlipShadow||mi,o=t.DropShadow,ue=o==n?bi:o,o=t.Emboss,le=o==n?bi:o,o=t.DropShadowOpacity,de=o==n?.2:o,o=t.FlipTopShadowOpacity,pe=o==n?.2:o,o=t.FlipShadowOpacity,fe=o==n?.2:o,o=t.EmbossOpacity,ge=o==n?.2:o,o=t.HardFlipShadowOpacity,he=o==n?Ke:o,ve=t.PreflipArea||128,me=t.SecondaryDragArea||64,be=Ae?ve:t.InsideDragArea||0,_e=t.FlipDuration||400,ye=t.BookOffsetX||0,we=t.BookOffsetY||0,Ae&&(U?we-=l/2:j&&!Ae?ye+=u/2:ye-=u/2),ke=Pt?t.PerformanceAware||mi:bi,Te=t.PagerText||"#~##",o=t.PagerSkip,xe=o==n?bi:o,o=t.HashControl,$e=o==n?bi:o,o=t.ZoomEnabled,Pe=o==n?bi:o,Ce=t.ClickZoom||bi,o=t.ZoomFlip,Se=o==n?mi:o,o=t.PinchZoom,Be=o==n?mi:o,o=t.MouseControl,Fe=o==n?bi:o,Ie=t.GoogleAnalytics,Me=t.DisableSelection||bi,Le="undefined"!=typeof t.DownloadUrl?t.DownloadUrl:null,O="undefined"!=typeof t.DownloadButtonEnabled?t.DownloadButtonEnabled:!1,Le||(O=!1),Ue="undefined"!==e.type(t.LinksTooltipEnabled)?t.LinksTooltipEnabled:!1,Ue&&"undefined"!==e.type(rn)&&(Ue=!1),He=t.LinksTooltipColor||"#FFFFFF",Re=t.LinksTooltipBackground||"#333333",ze=t.LinksTooltipText||"Click to open this link",Oe="undefined"!=typeof t.LinkFading?t.LinkFading:!1,qe="undefined"!=typeof t.LinkShowPermanently?t.LinkShowPermanently:!1,We=t.LinkBackground||"#0000ff",Ye="undefined"!=typeof t.ControlbarTooltipEnabled?t.ControlbarTooltipEnabled:!1,Xe="undefined"!==e.type(t.InvisibleLinks)?t.InvisibleLinks:!1,1==Xe&&(We="transparent"),je=t.ControlbarTooltipColor||"#FFFFFF",Ve=t.ControlbarTooltipBackground||"#000000","undefined"!==e.type(t.MobileImageMaxHeight)&&(Zo=t.MobileImageMaxHeight),"undefined"!==e.type(t.MobileImageMaxWidth)&&(Go=t.MobileImageMaxWidth),Qo="undefined"!==e.type(t.NavigationArrowsEnabled)?t.NavigationArrowsEnabled:!1,z="undefined"!==e.type(t.NavigationButtonsEnabled)?t.NavigationButtonsEnabled:!Qo,Jo.color="undefined"!==e.type(t.NavigationArrowsColor)?t.NavigationArrowsColor:"#b5b5b5",Jo.hoverColor="undefined"!==e.type(t.NavigationArrowsHover)?t.NavigationArrowsHover:"#ffffff",De={},"undefined"!==e.type(t.ControlbarColor1)&&(De.color1=t.ControlbarColor1),"undefined"!==e.type(t.ControlbarColor2)&&(De.color2=t.ControlbarColor2),"undefined"!==e.type(t.ControlbarBackground)&&(De.background=t.ControlbarBackground),"undefined"!==e.type(t.ControlbarPagerText)&&(De.pagerText=t.ControlbarPagerText),"undefined"!==e.type(t.ControlbarTooltipBackground1)&&(De.tooltipBackground1=t.ControlbarTooltipBackground1),"undefined"!==e.type(t.ControlbarTooltipBackground2)&&(De.tooltipBackground2=t.ControlbarTooltipBackground2),"undefined"!==e.type(t.ControlbarPrint1)&&(De.print1=t.ControlbarPrint1),"undefined"!==e.type(t.ControlbarPrint2)&&(De.print2=t.ControlbarPrint2),"undefined"!==e.type(t.ControlbarPrint3)&&(De.print3=t.ControlbarPrint3),"undefined"!==e.type(t.ControlbarSearch1)&&(De.search1=t.ControlbarSearch1),"undefined"!==e.type(t.ControlbarSearchScreenBackground)&&(De.searchScreenBackground=t.ControlbarSearchScreenBackground),"undefined"!==e.type(t.ControlbarSearchInputBackground)&&(De.searchInputBackground=t.ControlbarSearchInputBackground),"undefined"!==e.type(t.ControlbarSearchInputText)&&(De.searchInputText=t.ControlbarSearchInputText),"undefined"!==e.type(t.ControlbarSearchResultsBackground)&&(De.searchResultsBackground=t.ControlbarSearchResultsBackground),"undefined"!==e.type(t.ControlbarSearchResultsSeparator)&&(De.searchResultsSeparator=t.ControlbarSearchResultsSeparator),"undefined"!==e.type(t.ControlbarSearchResultsText)&&(De.searchResultsText=t.ControlbarSearchResultsText),"undefined"!==e.type(t.ZoomCursorColor)&&(Je=t.ZoomCursorColor),"undefined"!==e.type(t.ZoomCursorEnabled)&&(ai=t.ZoomCursorEnabled),"undefined"!==e.type(t.NavbarMinHeight)&&(ei=t.NavbarMinHeight),"undefined"!==e.type(t.NavbarMinWidth)&&(ti=t.NavbarMinWidth),"undefined"!==e.type(t.UseNavBarMinSizes)&&(ni=t.UseNavBarMinSizes),"undefined"!==e.type(t.NavBarMobile)&&(oi=t.NavBarMobile,ii=oi),"undefined"!==e.type(t.ChangeQualityOnMobile)&&(ri=t.ChangeQualityOnMobile)},$i=function(){bt=_t=0,yt=1,po=mi,Fi*=2,ln=Fi+10,dn=2,un=ln/dn,pn=un+10,cn=ln/gi,Mi()},Mi=function(){vt=2*u,mt=1*l,U&&(vt=u,mt=2*l),Ae&&(vt=u,mt=l),wt=u>s||l>c,kt=2*Pi(Xr(s,c)/2),Tt=2*Pi(Xr(u,l)/2),fn=U?1:2,hn=3-fn,gn=U?-1:1},Ei=function(){Zt=[],Gt=[],Kt=[],Qt=[],Jt=[]},Ni=function(){Ct=mi,Bt=[],zo=[],Nt=4,Dt=mi,Ht=mi,Rt=mi,zt=mi,Ot=mi,Yt=Ut=jt=Vt=0,vn=mn=bn=_n=yn=wn=kn=Tn=n},Ai=function(){Kt=[],Gt=[],Qt=[],nt.empty(),Yi()},Li=function(t){Ei();for(var n,o,i,r,a,s,c,u=0,l=0,d=0,p=1,h=mi;l<t.length;l++)o=e(t[l]),n=o.attr("class"),i="cover"===n,s=Ae&&j,i&&(h=i),r="outerpage"===n,Ae&&(r=!1),a=r||i,(i||"page"===n||r)&&(0!=u||r||V?Ae&&!j&&zi(d++,Oi(e("<div class='page'></div>"),!0,i,void 0,d)):s||zi(d++,{__PageNumber:0,__notEmpty:mi}),0===u&&r&&(V=mi),c=Oi(o,r,i,a,d),"undefined"===e.type(c.__PageNumber)?c.__PageNumber=p++:c.__PageNumber>0&&(p=c.__PageNumber+1),zi(d++,c),s&&zi(d++,Oi(e("<div class='page'></div>"),!0,i,void 0,d)),u++);if(gt=d-1,f){var g=Zt[gt];"undefined"!==e.type(g)&&(g.__isHard=!0)}Ri(),j&&Zt.reverse(),h||(wt=mi),rs(E,N),ns()},Di=function(t,n,o){n=n||ht,o=o||mi,0!=n||V||n++;for(var i,r,a,s,c,u,l=0,d=0,p=mi;d<t.length;d++)r=e(t[d]),a="cover"==(i=r.attr("class")),a&&(p=a),s="outerpage"==i,c=s||a,(a||"page"==i||s)&&(u=Oi(r,s,a,c,d),gt++,Zt.splice(n,0,u),l++);Ri(),rs(),ns(),Ai()},Hi=function(e,t,n){e=e||ht,t=t||1,n=n||mi,0!=e||V||e++,Zt.splice(e,t),gt-=t,Ri(),rs(),ns(),ht>gt&&(ht=gt-gt%2),0>ht&&(ht=0),Ai()},Ri=function(){gt%2==0&&(Zt[gt].__notEmpty?zi(++gt,{__PageNumber:0,__notEmpty:mi}):(Zt.splice(gt,1),gt--))},zi=function(e,t){Zt[e]=t},Oi=function(t,n,o,i,r){n=n||mi,o=o||1===r,o||"undefined"===e.type(N)||(o=Ae?r===N-2:r===N-1),i=i||mi;var a=t.data(),d=a.disableEmbossing,p=h||a.hard===!0;f&&o&&(p=!0);var g={__Unload:!(a.unload==mi),__BackgroundFiles:[],__HtmlFile:a.htmlFile,__HtmlData:t.html(),__ThumbnailImageUrl:a.thumbnailImage,__ThumbnailImage:void 0,__DisableEmbossing:"undefined"===e.type(d)?!le:d,__TransparentPage:a.transparentPage==bi,__RemovablePage:a.removablePage==bi,__PageNumber:n?0:a.pageNumber,__PageName:a.pageName,__PageLabel:a.pageLabel,__AutoFlipInterval:a.autoFlipInterval,__Data:a.data,__renderWidth:i?u:s,__renderHeight:i?l:c,__maskSize:o?Tt:kt,__isHard:p,__isCover:i,__outer:n,__notEmpty:bi};return"undefined"!==e.type(a.backgroundFileDesktop)&&g.__BackgroundFiles.push({type:"desktop",url:a.backgroundFileDesktop,set:!1}),"undefined"!==e.type(a.backgroundFileMobile)&&g.__BackgroundFiles.push({type:"mobile",url:a.backgroundFileMobile,set:!1}),g.__isHard&&(g.__DisableEmbossing=bi),g.__isLoaded=!g.__HtmlFile,g},qi=function(e){kn=e>kn?e:kn},Wi=function(e){yn=e>yn?e:yn},Xi=function(){var e=ye-(g&&!U?Ci((kn-yn)/2):0),t=we-(g&&U?Ci((kn-yn)/2):0);Qo&&.01>Rn&&lt.shift(e,t),bt==e&&_t==t||(xt=!0,bt=e,_t=t,ot.css({transform:Wr(bt,_t)}))},Yi=function(){var t=Gt,o=Kt,i=[],r=[],a=[],s=[],c=[],p=ht,g=ht+1;if(yn=kn=mn=_n=0,St=[],Ct){0>Ft?p=Et:g=Et+1;for(var v,m,b=0;b<Bt.length;b++)v=Bt[b].__startPagePN,m=Bt[b].__endPagePN,Zt[v].__flip=Zt[m].__flip=Zt[m].__animated=bi,Zt[v].__animated=mi,1!=Bt[b].__flipType?(St.splice(0,0,v),St.push(m)):(St.splice(b,0,m),St.splice(b,0,v)),Bt[b].__started||(c.push({e:0,p:v}),c.push({e:0,p:m}),Bt[b].__started=bi),Zt[v].__onTop&&(Cs(3,v),Zt[v].__onTop=mi),Zt[m].__onTop&&(Cs(3,m),Zt[m].__onTop=mi)}Kt=[];for(var _=p,y=Zt[_].__notEmpty,w=y?se:0;_>=0;)y||Zt[_].__isCover&&!Zt[_].__outer&&wt?(i.push(_),y=ae&&Zt[_].__TransparentPage):w>0&&(Zt[_].__notEmpty&&Kt.push(_),Zt[_+1].__notEmpty&&Kt.push(_+1),w--),!y&&0==w&&_>4?_=2:_-=2;var k=g;for(y=Zt[k].__notEmpty,w=y?se:0;gt>=k;)y||Zt[k].__isCover&&!Zt[k].__outer&&wt?(r.push(k),y=ae&&Zt[k].__TransparentPage):w>0&&(Zt[k-1].__notEmpty&&Kt.push(k-1),Zt[k].__notEmpty&&Kt.push(k),w--),!y&&0==w&&gt-4>k?k=gt-2:k+=2;Gt=[];for(var T,x,P=i.length,C=r.length,S=P>C?P:C,b=0;S>b;b++)C>b&&(x=r[b],T=Zt[x],qi(U?T.__renderHeight:T.__renderWidth),T.__outer||(_n=kn),Gt.splice(0,0,x),T.__flip=mi,0!=b||Ct?T.__onTop&&(Cs(3,x),T.__onTop=mi):T.__onTop||(c.push({e:2,p:x}),T.__onTop=bi)),P>b&&(x=i[b],T=Zt[x],Wi(U?T.__renderHeight:T.__renderWidth),T.__outer||(mn=yn),Gt.splice(0,0,x),Zt[i[b]].__flip=mi,0!=b||Ct?T.__onTop&&(Cs(3,x),T.__onTop=mi):T.__onTop||(c.push({e:2,p:x}),T.__onTop=bi));vn=yn,bn=kn,Ct?Gt=Gt.concat(St):Xi(),(!Ct||f&&!ke)&&Ct||er(mn,_n);for(var b=0;b<Gt.length;b++)x=Gt[b],t.lastIndexOf(x)<0&&a.push(x);a=a.concat(Kt);for(var b=0;b<t.length;b++)x=t[b],Gt.lastIndexOf(x)<0&&s.push(x);for(var b=0;b<o.length;b++)x=o[b],Kt.lastIndexOf(x)<0&&Gt.lastIndexOf(x)<0&&s.push(x);for(var B,b=0;b<s.length;b++)B=s[b],D=Qt.lastIndexOf(B),x=Zt[B],x.__onTop&&(Cs(3,B),c.push({e:3,p:B}),T.__onTop=mi),x.__Unload!==mi?(D>=0&&Qt.splice(D,1),Cs(5,B),x.$p.remove(),x.__masked&&(x.__masked=mi,x.$m.remove(),x.$fsc&&x.$fsc.remove()),x.$hts&&(x.$hts.remove(),x.$hts=n)):0>D&&(x.__masked&&Ji(B),x.$p.css("display","none"),Qt.push(B),c.push({e:7,p:B}));var F,I,$,M,E,N,A,L,D,H;e.each(Array(a.length),function(t){F=a[t],D=Qt.lastIndexOf(F),H=Kt.lastIndexOf(F),D>=0?0>H&&(Qt.splice(D,1),Zt[F].$p.css("display",""),c.splice(0,0,{e:8,p:F})):(0>H&&c.splice(0,0,{e:8,p:F}),nt.append(Mr(F)),I=Zt[F].$p=Nr(F),c.splice(0,0,{e:4,p:F}),M=Zt[F].__renderWidth,E=Zt[F].__renderHeight,U?(A=(u-M)/2,N=F%2?l:l-E,L=Bi):Ae?(N=(l-E)/2,A=F%2?u/2:u-M,L=F%2?u-M:Bi):(N=(l-E)/2,A=F%2?Bi:u-M,L=F%2?u-M:Bi),I.css({position:"absolute",overflow:"hidden",width:M,height:E,top:N,left:A,right:L}),$=Zt[F].$c=Ar(F),"undefined"!==e.type(d)&&Qi(F),$.html(Zt[F].__HtmlData),Zt[F].__HtmlFile&&$.load(Zt[F].__HtmlFile,"GET"),Zt[F].__isCover||Zt[F].__DisableEmbossing||($.after(Er("pf-emboss-"+(F%2?"right":"left"),"page"+F+"emboss")),Lr(F).css({position:"absolute",overflow:"hidden",width:U?E/7:M/7,height:U?M:E,top:U?F%2?-M/2:E-M/2:0,left:U?F%2?"50%":Bi:F%2?0:Bi,right:U?F%2?Bi:"50%":F%2?Bi:0,"transform-origin":U?F%2?"0% 50%":"100% 50%":"",transform:U?"rotate(90deg)":"",opacity:ge})),H>=0&&(I.css("display","none"),Qt.push(F),c.push({e:7,p:F})))});for(var F,R,I,M,E,b=0,z=2;b<Gt.length;b++)if(F=Gt[b],R=Zt[F],I=R.$p,M=R.__renderWidth,E=R.__renderHeight,R.__flip&&R.__masked)!ce&&R.__animated&&R.$fsc.css({"z-index":z++}),R.$m.css({"z-index":z++
});else if(R.__flip&&!R.__masked)if(2==It){var O=z++;I.css({"z-index":O,"transform-origin":U?F%2?"50% 0%":"50% 100%":F%2?"0% 50%":"100% 50%","backface-visibility":"hidden"}),F%2==0&&(f&&F-1===1||h)&&Ae&&I.css("display","none"),ce||R.$hts||(R.$c.after(Er("pf-hard-topshadow","page"+F+"hardtopshadow")),R.$hts=qr(F),R.$hts.css({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,"+he+")"}))}else{I.wrap(Er("pf-mask","page"+F+"mask")),R.$m=Dr(F);var q=R.__maskSize,W=-R.__animated;R.$m.css({position:"absolute",right:U?Bi:"50%",top:U?l-q:(l-q)/2,left:U?(u-q)/2:Bi,width:q,height:q,"transform-origin":U?"50% 100%":"100% 50%",overflow:"hidden"}),I.css({top:U?Bi:(q-E)/2,bottom:U?F%2?-E:0:Bi,left:Bi,right:U?(q-M)/2:F%2?-M:0,"z-index":""}),ce||W&&(R.$c.after(Er("pf-flip-topshadow","page"+F+"fliptopshadow")),R.$fts=Or(F),R.$fts.css({position:"absolute",top:(E-q)/2,left:M/2-pn,width:pn,height:q,"transform-origin":"100% 50%",overflow:"hidden",opacity:pe}),R.$m.before(Er("pf-flip-shadow-container","page"+F+"flipshadowcontainer",Er("pf-flip-shadowA","page"+F+"flipshadowA")+Er("pf-flip-shadowB","page"+F+"flipshadowB"))),R.$fsc=Hr(F),R.$fsA=Rr(F),R.$fsB=zr(F),Ki(F,z++,E,M,q)),R.$m.css({"z-index":z++}),R.__masked=bi}else!R.__flip&&R.__masked?(Ji(F),I.css("z-index",z++)):(R.$hts&&(R.$hts.remove(),R.$hts=n),I.css("z-index",R.__outer?0:z++));for(b=0;b<c.length;b++)Cs(c[b].e,c[b].p);_r(),J&&Ra(),Ui()},Ui=function(t){ai&&("number"!==e.type(Rn)||Ct||zo&&zo.length>0||Bt&&Bt.length>0?ft.setCursor(e(".pf-page-cursoroverlay")):Rn>.02&&"undefined"===e.type(t)||"zoomout"===t?ft.setCursor(e(".pf-page-cursoroverlay"),"zoomout"):(.02>Rn&&"undefined"===e.type(t)||"zoomin"===t)&&(1>yt?ft.setCursor(e(".pf-page-cursoroverlay"),"zoomin"):ft.setCursor(e(".pf-page-cursoroverlay")))),qe&&(e("a.pf-hotspot").css("opacity",.5),e("a.pf-hotspot").css("background",We))},ji=function(){e.each(Zt,function(t,n){"undefined"!==e.type(n.$p)&&n.$p.length>0&&Qi(t)})},Vi=function(e,t){e.css({"background-image":"none"}),setTimeout(function(){e.css({"background-image":"url('"+t+"')","background-size":"100% auto"})},50)},Zi=function(e,t){var n=24,o=n;if(t){var i=yt+Hn*Rn;o=n/i}e.css({"background-image":'url("'+Vo+'inc/img/loader.gif")',"background-color":"white","background-repeat":"no-repeat","background-position":"50% 50%","background-size":o+"px "+o+"px"})},Gi=function(t,n){var o=function(n){var i;if("undefined"===e.type(Zt[n].__ThumbnailImage)){if(i=e.Deferred(),t.css("background-image")!=='url("'+Vo+'inc/img/loader.gif")'&&Zi(t,!1),"undefined"!==e.type(Zt[n].__ThumbnailImageUrl)){var r=Zt[n].__ThumbnailImageUrl,a=new Image;a.onload=i.resolve.bind(i,a),a.src=r,a.loadingPromise=i,a.onerror=function(){setTimeout(function(){o(n).done(function(e){Zt[n].__ThumbnailImage=e,i.resolve(e)})},500)}}}else"resolved"!==Zt[n].__ThumbnailImage.loadingPromise.state()&&t.css("background-image")!=='url("'+Vo+'inc/img/loader.gif")'&&Zi(t,!1),i=Zt[n].__ThumbnailImage.loadingPromise;return i};return o(n)},Qi=function(t){var n=function(o,i,r){"undefined"===e.type(fi[o])&&(fi[t]={});var a;if("undefined"===e.type(fi[o][i])){a=e.Deferred(),Zi(e("#page"+o),!0);var s=new Image;s.onload=a.resolve.bind(a,s),s.src=r,s.loadingPromise=a,s.onerror=function(){setTimeout(function(){n(o,i,r).done(function(e){fi[o][i]=e,a.resolve(e)})},500)}}else"resolved"!==fi[o][i].loadingPromise.state()&&Zi(e("#page"+o)),a=fi[o][i].loadingPromise;return a},o=[];o="undefined"===e.type(t)?[ht,ht+1]:[t],e.each(o,function(o,i){if("undefined"!==e.type(Zt[i])&&"undefined"!==e.type(Zt[i].__BackgroundFiles)){var r=Zt[i].__BackgroundFiles;if(r.length>0){var a=0;if(r.length>1&&(Ko||(a=1)),!r[a].set||i!==ht&&i!==ht+1){!r[a].set&&r.length>1&&(r[Math.abs(a-1)].set=!1);var s=r[a].type,c=r[a].url;n(t,s,c).done(function(){Vi(e("#page"+i),r[a].url),r[a].set=!0})}}}})},Ji=function(e){var t=Zt[e],o=t.$p,i=t.__renderWidth,r=t.__renderHeight;o.unwrap();var a=U?Bi:e%2?Bi:u-i;Ae&&(a=e%2?u/2:u-i),o.css({top:U?e%2?l:l-r:(l-r)/2,left:a,right:U?(u-i)/2:e%2?u-i:Bi,"transform-origin":"","backface-visibility":""}),t.$fsc&&(t.$fsc.remove(),t.$fsc=t.$fsA=t.$fsB=n),t.$fts&&(t.$fts.remove(),t.$fts=n),t.__masked=mi},Ki=function(e,t,n,o,i){var r=U?(u-o)/2:u-o;Ae&&(r=-u/2),Zt[e].$fsc.css({"z-index":t++,position:"absolute",top:U?l-n:(l-n)/2,left:r,width:U?o:2*o,height:U?2*n:n,overflow:"hidden",opacity:fe}),Zt[e].$fsA.css({position:"absolute",top:U?n-i:n/2-i,right:U?o/2:o,width:pn,height:2*i,"transform-origin":"100% 50%",overflow:"hidden"}),Zt[e].$fsB.css({position:"absolute",top:U?n-i/2:(n-i)/2,left:U?o/2:o,width:pn,height:i,"transform-origin":"0% 50%",overflow:"hidden"})},er=function(e,t){if(di.length>0&&(e!==wn||t!==Tn)){wn=e,Tn=t;var n=(e+t)/(U?mt:vt);U?it.css("transform",Wr(0,mt/2-e)+"scaleY("+n+")"):it.css("transform",Wr(vt/2-e,0)+"scaleX("+n+")")}},tr=function(e,t,n,o,i,r,a,s){if(Ot)return mi;a=a||e,s=s||t;var c=Bt.length,u=Mt,r=r||2,i=i||0;if(c>=Nt)return mi;if(u=0==c?ht:Et,r+=r%2,0>o&&E>u-r)return mi;if(o>0&&u+r>N)return mi;var l,d=u+(o>0?1:0),p=u+(r-(0>o?1:0))*o;if(l=Zt[d].__isHard||Zt[p].__isHard?2:i,0==c)Ct=bi,Ft=o,It=l,Cs("onFlippingSequenceStarted");else if(Ft!=o||It!=l)return mi;0!==n&&1!==n&&4!==n||Cs("onAutoFlippingSequenceStarted"),$t=n,Mt=u,Et=u+r*o;var f=1==It;return Bt[c]=rr({__startPN:Mt,__endPN:Et,__startPagePN:f?p:d,__endPagePN:f?d:p,__flipMode:n,__flipType:It,__dir:o,__started:mi,__success:mi},e,t),Yi(),(a||s)&&ar(Bt[c],a*gn,s),bi},nr=function(e,t,n,o,i){return n=n||e.__dir,e.__dir!=n||0==e.__flipMode||4==e.__flipMode||5==e.__flipMode||0==t||1==t?mi:($t=e.__flipMode=t,ar(e,o,i),bi)},or=function(e){var t=e.__startPagePN,n=e.__endPagePN,o=Zt[t].$p,i=Zt[n].$p;Zt[t].__flip=Zt[t].__animated=Zt[n].__flip=Zt[n].__animated=mi,i.css({transform:Wr(0,0)+"rotate(0deg) "}),o.css({transform:Wr(0,0)+"rotate(0deg) "})},ir=function(e){var t=Bt[e];t.__success?(ht=t.__endPN,Cs("onBeforePageChange",t.__startPN),Cs("onPageChange",ht)):Ot=mi,Cs(1,t.__startPagePN),Cs(1,t.__endPagePN),or(t),Bt.splice(e,1),Ct=0!=Bt.length,Ct&&e>0&&(Mt=Bt[e-1].__startPN,Et=Bt[e-1].__endPN),t.__success&&(Cs(0===$t||1===$t?"onAutoFlippingSequenceEnded":"onManualFlippingSequenceEnded"),Cs("onPageChangingComplete"))},rr=function(e,t,n){var o=e.__endPagePN,i=Zt[o].__renderWidth,r=Zt[o].__renderHeight;return 2==e.__flipMode&&(U?(t*=r*e.__dir/n,n=r*e.__dir,-i/2>t&&(t=-i/2),t>i/2&&(t=i/2)):(n*=i*e.__dir/t,t=i*e.__dir,-r/2>n&&(n=-r/2),n>r/2&&(n=r/2))),e.__side=o%2?1:-1,e.__sx=U?-t:-i*e.__side,e.__sy=U?-r*e.__side:n,e.__cx=U?0:-i/2*e.__side,e.__cy=U?-r/2*e.__side:0,e.__ax=U?-t:-i*(0>t?1:-1),e.__ay=U?-r*(0>n?1:-1):n,e},ar=function(e,t,o,i){t=t||e.__ax,o=o||e.__ay;var r=e.__startPagePN,a=e.__endPagePN,s=Zt[r].$p,c=Zt[r].$m,u=Zt[a].$p,l=Zt[a].$m,d=Zt[r].__renderWidth,p=Zt[r].__renderHeight,f=d/2,h=p/2,g=Ft*(1==It?-1:1),v=e.__sx,m=e.__sy,b=e.__cx,_=e.__cy,y=U?o==e.__ex?n:o<e.__ex?-1:1:t==e.__ex?n:t<e.__ex?-1:1;if(e.__ex=U?o:t,2!=It)if(U){var w=ki(o*o+(f+t)*(f+t)),k=ki(o*o+(f-t)*(f-t)),T=ki(p*p+(f+v)*(f+v)),x=ki(p*p+(f-v)*(f-v));if((w>T||k>x)&&5!=e.__flipMode)if(v>t){var P=f-t,C=yi(P/k);t=f-_i(C)*x,o=wi(C)*x*(0>o?-1:1),t>v&&(m*o>0?(o=m,t=v):(o=-m,t=v))}else{var P=f+t,C=yi(P/w);t=_i(C)*T-f,o=wi(C)*T*(0>o?-1:1),v>t&&(m*o>0?(o=m,t=v):(o=-m,t=v))}(0>m&&20>o-m||m>0&&20>m-o)&&!i&&(0>m&&(o=-p+20),m>0&&(o=p-20))}else{var w=ki(t*t+(h+o)*(h+o)),k=ki(t*t+(h-o)*(h-o)),T=ki(d*d+(h+m)*(h+m)),x=ki(d*d+(h-m)*(h-m));if((w>T||k>x)&&5!=e.__flipMode)if(m>o){var P=h-o,C=yi(P/k);o=h-_i(C)*x,t=wi(C)*x*(0>t?-1:1),o>m&&(v*t>0?(o=m,t=v):(o=m,t=-v))}else{var P=o+h,C=yi(P/w);o=_i(C)*T-h,t=wi(C)*T*(0>t?-1:1),m>o&&(v*t>0?(o=m,t=v):(o=m,t=-v))}(0>v&&20>t-v||v>0&&20>v-t)&&!i&&(0>v&&(t=-d+20),v>0&&(t=d-20))}i?(e.__ax=t,e.__ay=o):(e.__ax+=(t-e.__ax)/5,e.__ay+=(o-e.__ay)/5,Ti(t-e.__ax)<.5&&Ti(o-e.__ay)<.5&&(e.__ax=t,e.__ay=o),t=e.__ax,o=e.__ay);var S=U?o/p*un:t/d*un;if(-un>S&&(S=-un),S>un&&(S=un),0>S&&Wi(-_i(S/cn)*(U?p:d)),S>0&&qi(_i(S/cn)*(U?p:d)),t!=e.__lx||o!=e.__ly){if(2==It){var g=Ft*(0>S?1:-1),B=un*Ft,F=U?"rotateX":"rotateY",I=3e3;if(0>g)if(Pt){var $={transform:F+"("+(ln+B+S)*gn+"deg) "+Wr(0,0)};s.css($);var M={transform:F+"("+un+"deg) "+Wr(I,I)};u.css(M)}else{var E=-(un-Ti(S))/5*Ft;s.css({transform:U?"scaleY("+_i(Ft*S/cn)+") skewX("+E+"deg) "+Wr(0,0):"scaleX("+_i(Ft*S/cn)+") skewY("+E+"deg) "+Wr(0,0)}),u.css({transform:Wr(I,I)})}else if(Pt){var M={transform:F+"("+(ln-B+S)*gn+"deg) "+Wr(0,0)};u.css(M);var $={transform:F+"("+un+"deg) "+Wr(I,I)};s.css($)}else{var E=(un-Ti(S))/5*Ft;u.css({transform:U?"scaleY("+_i(-Ft*S/cn)+") skewX("+E+"deg) "+Wr(0,0):"scaleX("+_i(-Ft*S/cn)+") skewY("+E+"deg) "+Wr(0,0)}),s.css({transform:Wr(I,I)})}ce||(0>g?Zt[r].$hts.css("opacity",(1-Ti(_i(S/cn))+1-Ti(S/90))/2):Zt[a].$hts.css("opacity",(1-Ti(_i(S/cn))+1-Ti(S/90))/2)),e.__ax=t,e.__ay=o}else if(U){var N=v-t,A=m-o,L=v-b,D=m-_,H=ki(N*N+A*A),C=yi(N/H)||0,R=ki(L*L+D*D),P=yi(L/R);(0>A||0==A&&0>g)&&(C=gi-C),0>D&&(P=gi-P),P=C-(P-C);var z=wi(P)*R+o,O=_i(P)*R+t,q=(O-b)/2,W=(z-_)/2,X=b+q,Y=_+W,j=ki(q*q+W*W);0>W&&(j*=-1);var V=C*cn,Z=6;u.css({transform:Wr(0,((h+j)*g).toFixed(Z))+"rotate("+V+"deg) "}),l.css({transform:Wr(-X.toFixed(Z),Y.toFixed(Z))+"rotate("+V+"deg)"}),s.css({transform:Wr(-(_i(-C)*g).toFixed(Z),((-h-j+1*wi(-C))*g).toFixed(Z))+"rotate("+-V+"deg) "}),c.css({transform:Wr((-X).toFixed(Z),(Y-1*g).toFixed(Z))+"rotate("+V+"deg)"});var G=Ti(wi(C)*h)-j*g,Q=_i(-C)*f+G,J=_i(C)*f+G,K=(Q+J)/2,ee=1;if(G=Q>J?Q:J,e.__sl=G,!ce){G/=p,K/=p;var te=.05>K?.05:K;.2>K&&(K=G),.2>K&&(ee=5*K),K>.9&&(ee=1-10*(K-.9));var ne=G;ne>.6&&(ne=ne>.8?.6-1*(ne-.8):.6+.1*_i((ne-.6)/.2*gi));var oe=.5+ee/2;Zt[a].$fsA.css({transform:Wr((-X).toFixed(5),Y.toFixed(5))+"rotate("+(V+90)+"deg) scaleX("+6*te+")",opacity:oe.toFixed(5)}),Zt[a].$fsB.css({transform:Wr((-X).toFixed(5),Y.toFixed(5))+"rotate("+(V+90)+"deg) scaleX("+3*G+")",opacity:ee.toFixed(5)}),Zt[a].$fts.css({transform:"rotate("+(-V+90)+"deg) "+Wr((-j*g).toFixed(5),0)+"scaleX("+4*ne+")",opacity:(ee*pe).toFixed(5)})}e.__lx=t,e.__ly=o}else{var N=v-t,A=m-o,L=v-b,D=m-_,H=ki(N*N+A*A),C=yi(A/H)||0,R=ki(L*L+D*D),P=yi(D/R);(0>N||0==N&&0>g)&&(C=gi-C),0>L&&(P=gi-P),P=C-(P-C);var O=wi(P)*R+t,z=_i(P)*R+o,q=(O-b)/2,W=(z-_)/2,X=b+q,Y=_+W,j=ki(q*q+W*W);0>q&&(j*=-1);var V=C*cn,Z=6;u.css({transform:Wr(((f+j)*g).toFixed(Z),0)+"rotate("+V+"deg) "}),l.css({transform:Wr(X.toFixed(Z),Y.toFixed(Z))+"rotate("+V+"deg)"}),s.css({transform:Wr(((-f-j+1*wi(-C))*g).toFixed(Z),(_i(-C)*g).toFixed(Z))+"rotate("+-V+"deg) "}),c.css({transform:Wr((X-1*g).toFixed(Z),Y.toFixed(Z))+"rotate("+V+"deg)"});var G=Ti(wi(C)*f)-j*g,Q=_i(-C)*h+G,J=_i(C)*h+G,K=(Q+J)/2,ee=1;if(G=Q>J?Q:J,e.__sl=G,!ce){G/=d,K/=d;var te=.05>K?.05:K;.2>K&&(K=G),.2>K&&(ee=5*K),K>.9&&(ee=1-10*(K-.9));var ne=G;ne>.6&&(ne=ne>.8?.6-1*(ne-.8):.6+.1*_i((ne-.6)/.2*gi));var oe=.5+ee/2;Zt[a].$fsA.css({transform:Wr(X.toFixed(5),Y.toFixed(5))+"rotate("+V+"deg) scaleX("+6*te+")",opacity:oe.toFixed(5)}),Zt[a].$fsB.css({transform:Wr(X.toFixed(5),Y.toFixed(5))+"rotate("+V+"deg) scaleX("+3*G+")",opacity:ee.toFixed(5)}),Zt[a].$fts.css({transform:"rotate("+-V+"deg) "+Wr((-j*g).toFixed(5),0)+"scaleX("+4*ne+")",opacity:(ee*pe).toFixed(5)})}e.__lx=t,e.__ly=o}return y}},sr=function(e,t,n,o,i,r,a){e.__stx=e.__ax,e.__sty=e.__ay,e.__tx=t,e.__ty=n,e.__duration=o,e.__styleX=i,e.__styleY=r,e.__start=lr().getTime(),e.__r=a},cr=function(e){var t=lr().getTime()-e.__start,n=e.__duration,o=mi;t>=n&&(o=bi,t=n);var i=t/n,r=e.__tx-e.__stx,a=e.__ty-e.__sty,s=e.__stx+ur(e.__styleX,i,r,e.__r),c=e.__sty+ur(e.__styleY,i,a,e.__r);return{x:s,y:c,end:o}},ur=function(e,t,n,o){switch(e){case 0:return n*t;case 1:return _i(gi*t/2)*n;case 2:return(1-wi(gi*t/2))*n;case 3:return(1-wi(gi*t))/2*n;case 4:return _i(2*gi*t)*o;case 5:return _i(gi*t)*o;case 6:return wi(2*gi*t)*o;case 7:return wi(gi*t)*o}},lr=function(){return new Date},dr=mi,pr=function(){if(xn&&raf(pr),zo.length>0&&ms(),Ct){var e;yn=mn,kn=_n;for(var t=0;t<Bt.length;t++)switch(e=Bt[t],e.__flipMode){case 1:break;case 2:case 3:qt=ar(e,At*gn,Lt);break;case 0:case 4:var n=cr(e);ar(e,n.x,n.y,bi),n.end&&(ir(t),Yi(),nn&&zt&&(br(Bt[Bt.length-1]),yr()),xt||vr(),t--);break;case 5:var n=cr(e);ar(e,n.x,n.y,bi),n.end&&(ir(t),Yi(),t--)}Ct&&(f&&!ke&&er(yn,kn),Wi(vn),qi(bn),Xi())}J&&Ha(),fa(),tn&&Oe&&tn.OEF()},fr=function(t){if(!e(t.target).hasClass("pf-hotspot")&&(on=!t||!t.type||"mousedown"!==t.type,"undefined"===e.type(Wt)&&(dr=mi,Xt=void 0,Wt=+new Date,!zt&&!Dt&&Fe))){Tr(t),ea=Rn;var n=Cr(At,Lt,Rt);if(n&&as())switch(yr(),Yr(t),n){case"TL":case"BL":Rt||Ht?nr(Bt[Bt.length-1],2,-1)&&(Rt=Ht=mi,zt=bi):tr(At,Lt,2,-1,0)&&(zt=bi);break;case"TR":case"BR":Rt||Ht?nr(Bt[Bt.length-1],2,1)&&(Rt=Ht=mi,zt=bi):tr(At,Lt,2,1,0)&&(zt=bi)}else if(n=Br(At,Lt),n&&as())switch(yr(),Yr(t),n){case"OL":tr(At,Lt,2,-1,1)&&(zt=bi);break;case"IR":tr(U?0>At?-Yt:Yt:-pn,U?-pn:0>Lt?-Ut:Ut,2,-1,Ae?1:0)&&(zt=bi);break;case"OR":tr(At,Lt,2,1,1)&&(zt=bi);break;case"IL":tr(U?0>At?-jt:jt:pn,U?pn:0>Lt?-Vt:Vt,2,1,Ae?1:0)&&(zt=bi)}else{if(An||!En||!$r(t))return bi;if("pf-hotspot"===t.target.className)return!0;so=bi,dr=mi;var o=Pr(t,!1);if("undefined"!==e.type(o)){var i=xr(nn,o.x,o.y,!0);isNaN(i.x)||isNaN(i.y)||_a(i.x,i.y)}}}},hr=function(t){if(!(t&&t.type&&"mousemove"===t.type&&on))if(nn||(co=t.pageX,uo=t.pageY),nn||!En||so||!$r(t)){if(dr=bi,!Dt&&Fe)if((zt||Rt||so||Cn)&&Yr(t),Tr(t),An||!so){var o=Cr(At,Lt,Rt);if(Rt&&!nn)o||br(Bt[Bt.length-1]);else if(zt);else if(!nn&&!En&&Z&&!Ae&&o)switch(o){case"TL":case"BL":tr(U?0>At?-Yt:Yt:At,U?Lt:0>Lt?-Ut:Ut,3,-1,0,n,At,Lt)&&(Rt=bi);break;case"TR":case"BR":tr(U?0>At?-jt:jt:At,U?Lt:0>Lt?-Vt:Vt,3,1,0,n,At,Lt)&&(Rt=bi)}}else{var i=Pr(t,!1);if("undefined"!==e.type(i)){var r=xr(nn,i.x,i.y,!0);isNaN(r.x)||isNaN(r.y)||ma(r.x,r.y)}}}else if(Yr(t),so=bi,dr=mi,"undefined"!==e.type(t.pageX)){var r=xr(nn,t.pageX,t.pageY,!0);_a(r.x,r.y)}},gr=function(t){if(!(t&&t.type&&"mouseup"===t.type&&on)){if(Xt=+new Date-Wt,Wt=void 0,t.target){var n=e(t.target),o=!1;if((n.hasClass("pf-thumbnail-button")||n.hasClass("pf-thumbnail-page"))&&(o=!0),"pf-thumbnail-container"!==n.attr("id")&&"pageflip-thumbnails"!==n.attr("id")||(o=!0),o)return!0}if(Fe)if(Tr(t),Bn=null,zt||Rt)Yr(t),Cs("onManualEnded"),br(Bt[Bt.length-1],!0),xt=mi,vr();else if(so){if(Yr(t),nn&&(so=mi),!$r(t))return bi;!nn&&Fr(At,Lt)&&Ce&&(so=mi,"video-thumb"!==t.target.className&&"play-button"!==t.target.className&&"pf-hotspot"!==t.target.className&&(Ss.zoomOut(),Ss.hideThumbnails()))}else{if(!$r(t))return bi;if(!nn&&Fr(At,Lt)&&Ce&&"video-thumb"!==t.target.className&&"play-button"!==t.target.className&&"pf-hotspot"!==t.target.className){var i=xr(nn,t.pageX,t.pageY);ya(At,Lt,i.x,i.y),Ss.zoomIn(),Ss.hideThumbnails()}}}},vr=function(){nn||rt.trigger(sn.__onMove)},mr=function(e,t,n){La();var o=mi,i=U?-.5:e,r=U?2*e:1;if(tr(i*s,r*c/2,0,e,t,n,i*s*.97,r*c/2*.97)){var a=Bt[Bt.length-1];a.__success=bi;var u=1==a.__flipType?1:-1;U?sr(a,a.__sx,u*a.__sy,_e,5,2==a.__flipType?0:3,-s/8-(Si()-.5)*s/16):sr(a,u*a.__sx,a.__sy,_e,2==a.__flipType?0:3,5,-c/8+(Si()-.5)*c/16),o=bi}return o},br=function(t,n){var o=t.__side*(1==t.__flipType?-1:1);if(nr(t,4)){t.__success=qt&&zt?qt==o:o*(U?Lt:At)>0;var i=Cr(At,Lt,Rt||zt),r=!1;if(.01>ea&&(r=Br(At,Lt)),i||n){var a="undefined"!==e.type(qt)&&qt===o;(a||"undefined"!==e.type(Xt)&&400>Xt)&&(t.__success=bi)}zt=!1,Rt=!1;var s=t.__sx*(U?1:(t.__success?-1:1)*t.__side*o),c=t.__sy*(U?(t.__success?-1:1)*t.__side*o:1),u=U?mt:vt,l=Xr(s-t.__ax,c-t.__ay)/u,d=t.__sl/u,p=2;d>l&&(l=d,p=1),sr(t,s,c,_e*l,U?p:0,U?0:p),Ot=!t.__success}},_r=function(){Yt=Zt[ht].__renderWidth/hn||0,Ut=Zt[ht].__renderHeight/fn||0,jt=Zt[ht+1].__renderWidth/hn||0,Vt=Zt[ht+1].__renderHeight/fn||0},yr=function(){Pn=[],Sn=[]},wr=0,kr=0,Tr=function(t){var n,o,i=Pr(t,!1);"undefined"!==e.type(i)&&(n=i.x,o=i.y);var r=yt+Hn*Rn,a=(n-tt.offset().left)/r-vt/2-bt,s=(o-tt.offset().top)/r-mt/2-_t;isNaN(a)||(At=a,Lt=s)},xr=function(t,n,o,i){var r,a={x:1,y:1},s=1,c=vt,u=mt;Ae&&(U?u/=2:c/=2);var l=0;Q&&(l=at.getHeight());var f=Rn;i&&(f=ca());var h=f/ca(),g=ca(),v=yt+Hn*g,m=yt+Hn*f,b=yt,_=c*b,y=(d-_)/2,w=y*m/b;w>d/2&&(w=d/2);var k=c*m+2*w,T=u*b,x=(p-T-l)/2,P=x*v/b;P>p/2&&(P=p/2);var C=x+h*(P-x),S=u*m+l+2*C,B=u*m+l+2*P;if(!nn&&so)if(t)a.x=a.y=1*s,Rn>0&&(a.x=a.y=1*s/Rn);else{var F;if(x>o){var I=o,$=I*P/x;F=$}else if(o>x+T){var M=o-T-x,E=M*P/x;F=P+u*m+E}else{var N=o-x,A=N*(u*m)/T;F=P+A}var L=F-o-((B-l)/2-p/2);L+=(S-l-p)/2,r={x:n*(k-d)/d,y:L}}return"undefined"===e.type(r)&&(r={x:parseInt(n-et.offset().left,10)*a.x,y:parseInt(o-et.offset().top,10)*a.y}),r},Pr=function(t,n){var o,i,r,a=t;if("undefined"===e.type(n)&&(n=!0),on&&"touch"===rn){var s=t.originalEvent.changedTouches;a=void 0,"undefined"!==e.type(s[0])&&(n?Bn&&"undefined"===e.type(window.TouchEmulator)?a=Fn:(Bn=s[0].identifier,Fn=s[0],a=Fn):a=s[0])}return!on||"touch"===rn&&"undefined"!==e.type(a)?"undefined"!==e.type(a.pageX)&&"undefined"!==e.type(a.pageY)&&(o=a.pageX,i=a.pageY):"pointer"===rn&&"undefined"!==e.type(a.clientX)&&"undefined"!==e.type(a.clientY)&&(o=a.clientX,i=a.clientY),"undefined"!==e.type(o)&&(r={x:o,y:i}),r},Cr=function(e,t,n){var o="",i=ve*(n?1.2:1);return U?t>-Ut&&Vt>t&&(-Ut+i>t?e>-Yt&&-Yt+i>e?o="BL":Yt>e&&e>Yt-i&&(o="TL"):t>Vt-i&&(e>-jt&&-jt+i>e?o="BR":jt>e&&e>jt-i&&(o="TR"))):e>-Yt&&jt>e&&(-Yt+i>e?t>-Ut&&-Ut+i>t?o="TL":Ut>t&&t>Ut-i&&(o="BL"):e>jt-i&&(t>-Vt&&-Vt+i>t?o="TR":Vt>t&&t>Vt-i&&(o="BR"))),o},Sr=function(){var e=si;return nn&&(e=ci,Ae&&(e=ui)),e},Br=function(e,t){var n="",o=Sr();return nn&&Rn>.01&&(o=li),U?(me=o*Math.max(Ut,Vt),Ae&&(be=me),t>-Ut&&Vt>t&&(-Ut+me>t?Ti(e)<Yt&&(n="OL"):t>Vt-me?Ti(e)<jt&&(n="OR"):Ti(t)<be&&(n=0>t?"IL":"IR"))):(me=o*Math.max(Yt,jt),Ae&&(be=me),e>-Yt&&jt>e&&(-Yt+me>e?Ti(t)<Ut&&(n="OL"):e>jt-me?Ti(t)<Vt&&(n="OR"):Ti(e)<be&&(n=0>e?"IL":"IR"))),n},Fr=function(e,t){if(U){var n=Ir(t,Yt,jt);if(t>-Ut&&Vt>t&&e>-n&&n>e)return bi}else{var o=0;Ae||(o=Ut);var i=Ir(e,o,Vt);if(e>-Yt&&jt>e&&t>-i&&i>t)return bi}return mi},Ir=function(e,t,n){return 0>e?t:n},$r=function(t){var n=e(t.target);return!(n.is("input")||n.is("textarea")||n.is("button"))},Mr=function(t){var n,i,r=0==Zt[t].__BackgroundFiles.length;Sr();i=r?"pf-page-container white-bg"+(Zt[t].__outer?" pf-outer":"")+(o?" "+o:""):"pf-page-container pf-"+vi[t%2]+"-side"+(Zt[t].__outer?" pf-outer":"")+(o?" "+o:"");var a="";if(ai&&Zt[t].__PageNumber&&Zt[t].__PageNumber>0){var s=e("<div></div>").addClass("pf-page-cursoroverlay");s.attr("id","page"+t+"cursoroverlay");var c=Zt[t].__renderWidth,u=Zt[t].__renderHeight;if(c&&u){var l=Sr(),d=!1,p=!1;Ae?1===Zt[t].__PageNumber&&N-1>1?p=!0:Zt[t].__PageNumber>1&&Zt[t].__PageNumber===N-1?d=!0:Zt[t].__PageNumber>1&&Zt[t].__PageNumber<N-1&&(d=!0,p=!0):1===Zt[t].__PageNumber&&N-1>1?p=!0:Zt[t].__PageNumber>1&&Zt[t].__PageNumber===N-1?(N-1)%2===0&&(d=!0):Zt[t].__PageNumber>1&&Zt[t].__PageNumber<N-1&&(N-1)%2===0&&(Zt[t].__PageNumber%2===0?d=!0:p=!0);var f=c,h=0;d&&(f-=c*l,h+=c*l),p&&(f-=c*l),s.css({position:"absolute",height:"100%",width:f+"px",top:"0px",left:h+"px"}),a=e("<div></div>").append(s).html()}}return n=Er(i,"page"+t,[a,Er("pf-page-content","page"+t+"content")])},Er=function(t,n,o){var i="<div"+(n?' id="'+n+'"':"")+(t?' class="'+t+'"':"")+">";return o&&(e.isArray(o)||(o=[o]),e.each(o,function(t,n){"string"===e.type(n)&&(i+=n)})),i+"</div>"},Nr=function(t){return e("#page"+t)},Ar=function(t){return e("#page"+t+"content")},Lr=function(t){return e("#page"+t+"emboss")},Dr=function(t){return e("#page"+t+"mask")},Hr=function(t){return e("#page"+t+"flipshadowcontainer")},Rr=function(t){return e("#page"+t+"flipshadowA")},zr=function(t){return e("#page"+t+"flipshadowB")},Or=function(t){return e("#page"+t+"fliptopshadow")},qr=function(t){return e("#page"+t+"hardtopshadow")},Wr=function(e,t){return"translate("+e+"px,"+t+"px) "},Xr=function(e,t,n){var o=ki(e*e+t*t);return n&&(o*=e>0?-1:1),o},Yr=function(e){return e.preventDefault()},Ur=function(i,r){return Ke!=n?Ke:(nn=!0,(window.PointerEvent||window.navigator.pointerEnabled)&&window.navigator.msMaxTouchPoints?(sn={__onStart:"pointerdown",__onMove:"pointermove",__onEnd:"pointerup"},rn="pointer",an="pointerup"):(window.MSPointerEvent||window.navigator.msPointerEnabled)&&window.navigator.msMaxTouchPoints?(sn={__onStart:"MSPointerDown",__onMove:"MSPointerMove",__onEnd:"MSPointerUp"},rn="pointer",an="MSPointerUp"):"ontouchstart"in t||window.navigator.msMaxTouchPoints||"TouchEmulator"in window?(sn={__onStart:"touchstart",__onMove:"touchmove",__onEnd:"touchend"},rn="touch",an="touchend"):(nn=!1,sn={__onStart:"mousedown",__onMove:"mousemove",__onEnd:"mouseup"},an="click"),o="undefined"===e.type(r)?"Flipbook":r,Ke=this,Pt="WebKitCSSMatrix"in t||"MozPerspective"in document.body.style,Ii(i),Ie&&bs(1),$i(),Ni(),Vr(),this)},jr=function(){window.goToLabel=function(e){Ss.gotoPageLabel("t"+e,!0),Cs(12)},e(document).on("click","a.pf-hotspot",function(t){Cs(12);var n=e(t.target).attr("href");if(!n||/^mailto:/.test(n))return/^mailto:/.test(n)?(window.top.location=n,!1):!0;t.preventDefault();var o=window.open(n,"_blank");o&&o.focus()}),Ue&&(dt=new FlipbookTooltips({el:"a.pf-hotspot",color:He,background:Re,orientation:"top",text:ze,margin:7})),qe||(tn=new FlipbookLinksFading({el:"a.pf-hotspot",background:We}),Oe&&(Ps("onAutoFlippingSequenceEnded",function(){Ct||tn.blink()}),Ps("onManualFlippingSequenceEnded",function(){Ct||tn.blink()})))},Vr=function(){e(function(){if(Qo){var t=window.NavigationArrowsManager.getSize();t>m&&(y=t,w=t)}en=Ke.html();var n=e("#Template-pages");if(window.flipbookSettings){var o=e("<div/>");e.each(window.flipbookSettings.pages,function(t,n){var i=e("<div></div>",{"class":"page"}).attr({"data-background-file-desktop":Vo+"inc/pages/page"+t+".jpg","data-background-file-mobile":Vo+"inc/pages/page"+t+".jpg","data-thumbnail-image":Vo+"inc/pages/thumbnails/page"+t+".jpg","data-page-label":"t"+t});e.each(n.links,function(t,n){var o;o=n.is_internal?e('<a class="pf-hotspot" onclick="goToLabel('+n.link+')"></a>').css({top:n.top,left:n.left,width:n.width,height:n.height}):e("<a></a>",{"class":"pf-hotspot",href:n.link}).css({top:n.top,left:n.left,width:n.width,height:n.height}),i.append(o)}),e.each(n.videos,function(t,n){var o=e("<div></div>",{"class":"video-container"}),r=e("<div></div>",{"class":"video-player","data-id":n.id,"data-width":n.width,"data-height":n.height,"data-top":n.top,"data-left":n.left});"youtube"===n.host?r.addClass("youtube-player"):"vimeo"===n.host&&r.addClass("vimeo-player"),o.append(r),i.append(o)}),o.append(i)}),n=o}ut=n,n.length>0?(Ke.html(n.html()),Zr()):Zr(),tt.css("display","block")})},Zr=function(){var i=Ke.children();if(0==i.length)return[];Li(i);var r=M=M>N?N:E>M?E:M;ht=Ka(r),ht-=ht%2;var a=o?" "+o:"";Ke.html(Er("pageflip-container"+a,"pf-stage",Er("pf-book-container"+a,"pf-book",Er("pf-book-offset"+a,"pf-bookoffs",Er("pf-book-content"+a,"pf-bookc",[ue?Er(o?o:n,"pf-dropshadow"):n,ai?Er(void 0,"pf-cursoroverlay"):n])))+Er(o?o:n,"pf-controls"))).css("visibility","visible"),et=e("#pf-stage"),tt=e("#pf-book"),ot=e("#pf-bookoffs"),nt=e("#pf-bookc"),tt.css("display","none"),ue&&(it=e("#pf-dropshadow"),di=di.add(it)),rt=e(document),et.css("background-color",Ze),"string"==typeof Ge&&et.css({"background-image":'url("'+Ge+'")',"background-size":"cover"}),et.css({position:"relative",margin:Bi,"-webkit-perspective-origin-x":"50%","-webkit-perspective-origin-y":"50%"}),T?et.css({width:"100%",height:"100%"}):("undefined"==typeof d?et.css({width:k?"100%":vt+y+w}):et.css({width:d}),"undefined"==typeof p?et.css({height:k?"100%":mt+b+_}):(et.css({height:p}),et.css({overflow:"hidden"}))),Jr(),tt.css({top:0,left:0,"z-index":10}),Ae?tt.css({position:"absolute"}):tt.css({position:"relative"}),nt.css({"transform-style":"preserve-3d",opacity:1}),ot.css({position:"absolute",top:0,left:0}),di.length>0&&di.css({position:"absolute",top:0,left:0,"z-index":1,"transform-origin":U?"50% 0%":"0% 50%",opacity:de}),J&&Sa(),Me&&e(Ke).css({"user-select":"none"}),pt=new window.FlipbookUrl({singlePageMode:Ae},Ss);var s=pt.getPageNumberFromUrl();return st=new window.VideoManager(Ss),ct=new window.AudioPlayer(Qe),ai&&(ft=new window.FlipbookCursorManager({cursorColor:Je,incDirPath:Vo},Ss),Ps("onFlippingSequenceStarted",function(){Ui()}),Ps("onAutoFlippingSequenceEnded",function(){Ui()}),Ps("onManualEnded",function(){Ui()})),Qe.pageFlipping&&(Ps("onAutoFlippingSequenceStarted",function(){ct.playSound("pageFlipping")}),Ps("onManualEnded",function(){ct.playSound("pageFlipping")})),Q&&ka(st),Ss.gotoPageNumber(s,!0),jr(),ta(),oa(),Qo&&(lt=new window.NavigationArrowsManager(Ss,{SinglePageMode:Ae},Jo)),Ue&&Ps("onFlippingSequenceStarted",function(){dt.events.hide()}),Yi(),tn&&Oe&&tn.blink(),tt.on(sn.__onStart,fr),rt.on(sn.__onMove,hr).bind(sn.__onEnd,gr),nn&&(tt.on("mousedown",fr),rt.on("mousemove",hr).bind("mouseup",gr)),e(t).bind("resize",Qr),(T||k)&&Qr(),Xi(),ji(),A&&Ss.startAutoFlip(mi),rt.keydown(function(e){switch(e.which){case 37:Ss.gotoPrevPage(),e.preventDefault();break;case 39:Ss.gotoNextPage(),e.preventDefault()}}),t.raf=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(e){t.setTimeout(e,pn/6)}}(),xn=bi,pr(),Ke},Gr=function(i){!In&&Ke&&(In=bi,nt.css("opacity",0),at&&(at.css("opacity",0),at.unbind()),J&&La(),t.setTimeout(function(){xn=mi},900),t.setTimeout(function(){Ct=mi,us(),o=n,Ke.empty(),Ke.html(en).attr("style",null),Ke=n,Fi=85,rt.unbind(sn.__onMove,hr).unbind(sn.__onEnd,gr),rt.unbind("webkitfullscreenchange mozfullscreenchange msfullscreenchange fullscreenchange",gs),e(t).unbind("resize",Qr),In=mi,i&&i()},1e3),Ie&&_s())},Qr=function(){if(T&&e(Ke).css({width:t.innerWidth,height:"100%"}),T||k){var n=C;if(n&&Ho&&(n=mi,et.css({height:"100%"})),d=window.innerWidth,p=window.innerHeight,et.css({width:d+"px",height:p+"px"}),Ke.css({width:d+"px",height:p+"px"}),e("body").css({width:d+"px",height:p+"px"}),S){var o=t.innerHeight-B;p>o&&(p=o,n=mi,et.css({height:o}))}var i=0;Q&&!n&&(i=at.getHeight());var r=d-y-w,a=n?mt:p-b-_;a-=i;var f=F?u:vt,h=F?l:mt,g=r/f,v=a/h;if(S){var m=v>g?g:v,M=mt*m+b+_;M>o&&(n=mi,a=p-b-_,v=a/h,et.css({height:o}))}if(I){(U?a>=$:r>=$)?(u=s=Pi(r/fn),l=c=Pi(a/hn),yt=1):U?(l=c=$/2,yt=a/$,u=s=r/yt):(u=s=$/2,yt=r/$,l=c=a/yt),Mi(),Jr();for(var E=0;E<Zt.length;E++)Zt[E].__renderWidth=s,Zt[E].__renderHeight=c,Zt[E].__maskSize=Zt[E].__isCover?Tt:kt;Ai()}else yt=x?g>v?g:v:v>g?g:v,yt>1&&!P&&(yt=1);var N=window.screen.height,A=window.screen.width;Ko=!0,ri&&Uo&&("undefined"!==e.type(Zo)&&(Ko=!(Zo>=N)),"undefined"!==e.type(Go)&&(Go>=A?Ko=!1:"undefined"!==e.type(Zo)&&(Ko=!0))),ji(),$n=Pi((vt*yt-vt)/2+(r-vt*yt)/2),n?(a=mt*(yt+Hn*Rn),et.css({height:a+(b+_)}),Mn=xi((mt*(yt+Hn*Rn)-mt)/2)):Mn=xi((mt*yt-mt)/2-(mt*yt-a)/2),ra(r,a),Cs("onStageResize"),Kr(),J&&Ra(bi)}else Cs("onStageResize");ua(),sa(),Ae&&tt.css({clip:"rect(-"+p/yt+"px "+d/yt+"px "+p/yt+"px 2px)"}).addClass("pf-book-container-singlepage"),Ui()},Jr=function(){if(tt.css({width:vt}),Ae?tt.css("height",mt):tt.css("height",mt),ot.css({width:vt,height:mt}),di.length>0){Sr();di.css({width:vt,height:mt})}},Kr=function(){var e,t,n=yt+Hn*Rn;if(nn)e=$n+Vn*Rn+wr+y,t=Mn+Zn*Rn+kr+b;else{var o=vt,i=mt;Ae&&(U?i/=2:o/=2);var r=0;Q&&(r=at.getHeight());var a=Rn/ca(),s=ca(),c=yt+Hn*s,u=yt,l=i*u,d=(p-l-r)/2,f=d*c/u;f>p/2&&(f=p/2);var r=0;Q&&!C&&(r=at.getHeight());var h=C?mt:p-b-_;h-=r;mt*(yt+Hn*ca());e=$n-Vn*Rn+wr+y,t=(p-r)/2-i*n/2-Zn*a+kr,tt.css({"transform-origin":"50% top"})}Qo&&.01>Rn&&(lt.setPosition(n),Xi()),tt.css({transform:Wr(e,t)+"scale("+n+","+n+")"})},ea=0,ta=function(){if(nn&&Pe){var t,n=Math.max(window.screen.availWidth,window.screen.availHeight);t=n>1e3?1/1.5:n>700?.4:1/3;var o=new Hammer(ot[0]),i=function(n){var o=ca();o>Rn&&("undefined"!==e.type(window.TouchEmulator)&&(n.velocity=.2),En=!0,Rn+=Math.abs(n.velocity)*t,Ti(o-Rn)<.01&&(Rn=o),Cs(9,ht),ia(),Kr())},r=function(n){Rn>0&&("undefined"!==e.type(window.TouchEmulator)&&(n.velocity=.2),Rn-=Math.abs(n.velocity)*t,.01>Rn&&(Rn=0,En=!1),Cs(10,ht),ia(),Kr())};o.get("pinch").set({enable:!0,threshold:0}),o.get("tap").set({enable:!0,taps:2,posThreshold:100}),o.on("tap",function(e){"video-thumb"!==e.target.className&&"play-button"!==e.target.className&&(na(e),En?sa():aa()),e.preventDefault()}),o.on("pinchstart",function(e){na(e),An=!0,Dn=e.scale,e.preventDefault()}),o.on("pinchmove",function(e){Dn<e.scale&&i(e),Dn>e.scale&&r(e),Dn=e.scale,e.preventDefault()}),o.on("pinchend",function(e){An=!1,Ln=!1})}},na=function(e,t){var n=function(e){var t=yt+Hn*Rn,n=(e.center.x-tt.offset().left)/t-vt/2-bt,o=(e.center.y-tt.offset().top)/t-mt/2-_t;isNaN(n)||(At=n,Lt=o)},o={x:parseInt(e.center.x-et.offset().left),y:parseInt(e.center.y-et.offset().top)};n(e),ya(At,Lt,o.x,o.y,t)},oa=function(){Hn=0,Rn=0,zn=0,On=0,Vn=0,Zn=0,Gn=0,Qn=0,Jn=0,Kn=0,eo=0,to=0,En=mi,so=mi,Nn=mi,Ln=mi},ia=function(){var e=vt,t=mt,n=0;Q&&(n=at.getHeight());var o=e,i=t,r=Rn;if(nn)o*=yt+Hn*r,i*=yt+Hn*r,zn=Math.floor((o-d)/(2*r)),On=Math.floor((i+n-p)/(2*r));else{var a=yt+Hn*ca();o*=a,i*=a,zn=Ae?Math.floor((2*o-ro)/ca()):Math.floor((o-d)/(2*ca())),On=Math.floor((i+n-p)/(2*ca()))}Xn=-1*Math.abs(On)-_,Yn=Math.abs(On)+b,nn&&zn<-1*Math.abs(b)||!nn&&0>zn?(zn=0,qn=0,Wn=0):(qn=-1*zn-y,Wn=zn+w)},ra=function(e,t){var n=vt,o=mt,i=0;if(Ae&&(U?o/=2:n/=2),Q&&(i=at.getHeight()),no=n,oo=o,io=n,Ae||(io=Math.floor(io/2)),Hn=1>yt?1-yt:0,ro=e,ao=t,ia(),Un=n/ro,jn=o/ao,1>Un&&(Un=1),1>jn&&(jn=1),0==Hn)oa();else if(En){var r=ba(Gn,Qn);Vn=Gn=r.x,Zn=Qn=r.y}ha(),Ps("onFlippingSequenceStarted",function(){sa(),ha(),Ue&&dt.events.hide()})},aa=function(){!En&&1>yt&&(Qo&&lt.toggle(!1),En=bi,nn&&(Nn=bi),Cs(9,ht))},sa=function(){En&&1>yt&&(En=mi,nn||(Vn=Gn,Zn=Qn),nn&&(Nn=bi),dr=!1,so=!1,Cs(10,ht))},ca=function(){var e=1;return e},ua=function(){for(var t,n=v+1,o=ca(),i=.01,r=1.0001;10>r;r+=1e-4){var a=i*(1-Math.pow(r,n))/(1-r);if(a>o){t=r;break}}"undefined"===e.type(t),lo=t},la=0,da=!1,pa=!1,fa=function(){var n,o=ca(),i="undefined"!==e.type(v);if(n=i?lo:o/7,!nn||Nn)if(En){if(Ti(o-Rn)>.01||da){if(i){pa&&(la=0,pa=!1),da=!0,la+=1;var r=.01*Math.pow(lo,v-la+1);Rn+=r}else Rn+=(o-Rn)*n;Ui(),Ti(o-Rn)<=.01&&(Rn=o,da=!1,la=0,Nn=mi),Kr(),C&&e(t).trigger("resize")}}else if(0!=Rn||pa){if(i){pa=!0,da&&(la=0,da=!1);var r=.01*Math.pow(lo,v-la+1);Rn-=r,la+=1}else Rn-=Rn*n;Ui(),.01>=Rn&&(Qo&&lt.toggle(!0),pa=!1,la=0,Rn=0,Nn=mi),Kr(),C&&e(t).trigger("resize")}va()},ha=function(){at&&(e("#b-zoomout").css("display",En?"":"none"),e("#b-zoomin").css("display",En?"none":""),Pa(e("#b-zoomin"),Hn>0&&Pe))},va=function(){if(!nn&&so){if(Gn===Vn&&Qn===Zn)return;Vn+=(Gn-Vn)/4,Zn+=(Qn-Zn)/4,Kr()}else if(Math.abs(Gn-Vn)>.001||Math.abs(Qn-Zn)>.001){ia();var e=ba(Gn,Qn);Gn=e.x,Qn=e.y,Vn=Gn,Zn=Qn,Kr()}},ma=function(e,t){e+=Jn,t+=Kn,Gn=e,Qn=t;var n=Gn-eo,o=Qn-to;Rn>0&&(n/=Rn,nn?o/=Rn:o*=Rn/ca()),Gn=eo+n,Qn=to+o;var i=ba(Gn,Qn);Gn=i.x,Qn=i.y},ba=function(t,n){return nn?(qn>t&&("undefined"===e.type(eo)||eo>=qn-2)?t=qn:t>Wn&&("undefined"===e.type(eo)||Wn+2>=eo)&&(t=Wn),Xn>n&&("undefined"===e.type(to)||to>=Xn-2)?n=Xn:n>Yn&&("undefined"===e.type(to)||Yn+2>=to)&&(n=Yn)):n>Math.abs(Kn)&&(n=Math.abs(Kn)),{x:t,y:n}},_a=function(e,t){var n=vt,o=mt;Ae&&(U?o/=2:n/=2);var i=0;Q&&(i=at.getHeight());var r=ca(),a=yt+Hn*r,s=yt,c=n*s,u=(d-c)/2,l=u*a/s;l>d/2&&(l=d/2);var f=o*s,h=(p-f-i)/2,g=h*a/s;g>p/2&&(g=p/2);var v=o*a+i+2*g;Jn=Vn-e,eo=Vn,to=Zn,Kn=nn?Zn-t:-1*((v-i)/2-(p-i)/2)},ya=function(e,t,n,o,i){var r=vt,a=mt;Ae&&(U?a/=2:r/=2);var s=0;Q&&(s=at.getHeight());var c=Rn;c=ca();var u=yt+Hn*c,l=yt,f=r*l,h=(d-f)/2,g=h*u/l;g>d/2&&(g=d/2);var v=a*l,m=(p-v-s)/2,_=m*u/l;_>p/2&&(_=p/2);var w=a*u+s+2*_,k=n-$n-vt/2-e-y-bt,T=o-Mn-mt/2-t-b-_t;if(!nn){var x;if(k=-k,m>o){var P=o,C=P*_/m;x=C}else if(o>m+v){var S=o-v-m,B=S*_/m;x=_+a*u+B}else{var F=o-m,I=F*(a*u)/v;x=_+I}T=x-o-((w-s)/2-(p-s)/2)}var $;$=i||!nn?{x:k,y:T}:ba(k,T),Vn=$.x,Gn=$.x,Zn=$.y,Qn=$.y},wa=function(e){$e&&(zo&&0!==zo.length||Bt&&0!==Bt.length||pt.updateUrl(e))},ka=function(t){if(window.ControlBar){var n=e("#pf-controls");at=new window.ControlBar(n,{zIndex:G||forceTop?12:2,colors:De,touchControl:nn,touchType:rn,pagerText:Te,minPageLimit:E,maxPageLimit:N,hashControl:$e,navigationLoop:Y,fullScreenEnabled:D,searchButtonEnabled:H,printButtonEnabled:R,navigationButtonsEnabled:z,
downloadButtonEnabled:O,thumbnailsButtonEnabled:q,controlbarTooltipEnabled:Ye,controlbarTooltipBackground:Ve,controlbarTooltipColor:je,navbarMinHeight:ei,navbarMinWidth:ti,useNavBarMinSizes:ni,navBarTablet:ii,navBarMobile:oi},Ss,t),Ps("onPageChangingComplete",function(){at.updatePage()}),pt.getPageNumberFromUrl()<2&&at.updatePage(),Ps("onStageResize",at.adjustButtonsToScreenSize)}return Ho=!1,D&&(Ro=document.getElementById("pf-stage"),D=Ro.requestFullscreen||Ro.mozRequestFullScreen||Ro.webkitRequestFullScreen||Ro.msRequestFullscreen?bi:mi),D&&rt.bind("webkitfullscreenchange mozfullscreenchange fullscreenchange msfullscreenchange",gs),at},Ta=function(e){var t=xa(e),n="_new"+Math.round(99999*Math.random()).toString(),o=window.open("about:blank",n);o.document.open(),o.document.write(t),o.document.close()},xa=function(t){var n="<html>\n	<head>\n		<style>\n			@media print { img{display:inline} }\n  			@media screen { img{display:none} }\n		</style>\n		<script>\n			function run(){setTimeout('printImg()', 10);}\n			function printImg(){\n				window.print(); window.close();\n			}\n		</script>\n	</head>\n	<body onload='run()'>\n",o=[];return t&&"left"!==t||"undefined"===e.type(Zt[ht])||e.isArray(Zt[ht].__BackgroundFiles)&&Zt[ht].__BackgroundFiles.length>0&&o.push("<img src="+Zt[ht].__BackgroundFiles[0].url+' style="width:100%; height:auto;" />'),t&&"right"!==t||"undefined"===e.type(Zt[ht+1])||e.isArray(Zt[ht+1].__BackgroundFiles)&&Zt[ht+1].__BackgroundFiles.length>0&&o.push("<img src="+Zt[ht+1].__BackgroundFiles[0].url+' style="width:100%; height:auto;"/>'),n+o.join("<br />")+"</body>\n</html>"},Pa=function(e,t){t==n&&(t=bi),t?e.removeClass("pf-disabled"):Ca(e)},Ca=function(e){e.addClass("pf-disabled")},Sa=function(){var t="pageflip-thumbnails",i="pf-thumbnail-container";tt.after(Er(ne?"pf-hidden":n,t,Er(n,i))),mo=e("#"+t),o&&mo.addClass(o),bo=e("#"+i),bo.css("width",gt*oe*1.5),fo=[],ho=[],go=[],vo=[],Co=0,To=0,xo=0;for(var r,a,t,s="pf-thumbnail",c="-",u="page",l="spread",d="button",p=s+c+u,f=s+c+l,h=s+c+d,g="#"+s,v=0;gt>=v;v+=2)r=Zt[v].__ThumbnailImageUrl?v:-1,a=Zt[v+1].__ThumbnailImageUrl?v+1:-1,0>r&&a>=0&&(r=a,a=-1),r>=0&&a>=0?(bo.append(Er(f,n,Er(h,s+r+d)+Er(h,s+a+d))),Fa(r),t=e(g+r+d).position().left,fo.push(t+oe),ho.push(v),go.push(2*oe),Fa(a),K&&vo.push([r,a])):r>=0&&(bo.append(Er(p,n,Er(h,s+r+d))),Fa(r),t=e(g+r+d).position().left,fo.push(t+oe/2),ho.push(v),go.push(oe),K&&vo.push([r]));fo.length?(Co=t+oe*(Zt[gt].__outer?1:2)+w,bo.css("width",Co+20),Ba(),So=mi,Io=0,bo.bind(sn.__onStart,$a),bo.bind(sn.__onEnd,Ea),bo.bind(sn.__onMove,Ma),nn&&(bo.bind("mousedown",$a),bo.bind("mouseup",Ea),bo.bind("mousemove",Ma)),bo.css("height",ie+16),nn||bo.bind("mouseleave",Na),yo=ne,Aa(),Ps("onZoomIn",La),Ps("onZoomOut",La),Ps("onPageChange",La)):(J=mi,mo.remove()),ne&&bo.css("display","none")},Ba=function(e){if(J){var t=1;(ee||e)&&(t=12),mo.css("z-index",t)}},Fa=function(t){var n={width:oe,height:ie,"background-size":+oe+"px "+ie+"px",cursor:"pointer"};K||(n.background="url("+Zt[t].__ThumbnailImageUrl+")");var o=e("#pf-thumbnail"+t+"button");o.attr("data-page",t).attr("title","Page "+Zt[t].__PageNumber),o.css(n);var i=new Hammer(o[0]);i.on("tap",function(t){if(!yo&&!Ct){var n=e("#"+t.target.id).data().page;Eo=bi,Ss.gotoPage(n,bi),La(),Ia(t.srcEvent)}})},Ia=function(e){zt||Rt||(Yr(e),e.stopPropagation())},$a=function(e){on=!e||!e.type||"mousedown"!==e.type,Oa(Wa(e)),Ia(e)},Ma=function(e){e&&e.type&&"mousemove"===e.type&&on||(!yo||!te||zt||Rt||so?Aa():Da(),Bo&&(So=bi,Mo=bi,To=Xa(Fo+Wa(e))),Ia(e))},Ea=function(e){e&&e.type&&"mouseup"===e.type&&on||qa()},Na=function(e){qa(),!yo&&te&&La()},Aa=function(e){if(!te)return mi;var t=lr();return e!=n?t-_o>e:void(_o=t)},La=function(){yo=!0,mo.addClass("pf-hidden"),setTimeout(function(){yo&&(Ba(!1),bo.css("display","none"))},300)},Da=function(){Aa(),yo=!1,bo.css("display","block"),mo.removeClass("pf-hidden"),Ba(bi)},Ha=function(){yo||(Aa(te)&&La(),xo!=To&&za())},Ra=function(e){if(Eo)return void(Eo=mi);var t,o=xi(d/2),i=fo.length-1,r=ho.lastIndexOf(ht);if(re?(ko=o-fo[0],wo=o-fo[i]):(ko=o-fo[0]-o+go[0]/2,wo=o-fo[i]+o-go[i]/2,wo>ko&&(ko=wo=xi(ko+wo/2))),0>r){if(!e)return;t=0}else t=fo[r];To=Xa(o-t),(!xo==n||yo||e)&&(xo=To+.5)},za=function(){if(xo!=To&&(So?(Io=To-$o,$o=To):0!=Io&&(Io*=.9,Ti(Io)<1?Io=0:To=Xa(To+Io)),xo+=(To-xo)/5,Ti(To-xo)<1&&(xo=To,Io=0),bo.css("transform",Wr(xo,0)),K&&!(Ti(xo-Po)<32))){Po=xo;for(var t=-oe-32,n=d+oe+32,o=vo.length,i=0;o>i&&fo[i]+xo<t;)i++;for(;o>i&&fo[i]+xo<n;)vo[i]&&(e.each(vo[i],function(t){var n=vo[i][t],o=e("#pf-thumbnail"+n+"button");Gi(o,n).done(function(){o.css({"background-image":'url("'+Zt[n].__ThumbnailImageUrl+'")',"background-size":"auto"})})}),vo[i]=null),i++}},Oa=function(e){Bo=bi,So=mi,Mo=mi,$o=To,Fo=To-e},qa=function(){Mo=So,So=Bo=mi},Wa=function(t){var n=Pr(t,!1);return"undefined"!==e.type(n)?n.x:void 0},Xa=function(e){return wo>e?e=wo:e>ko&&(e=ko),e},Ya=function(e,t,n){La();var o=mi;if(E>e||e>N)return Cs("onPageChangingComplete"),o;if(!Ct&&0==zo.length)if(e-=e%2,e!=ht)if(o=bi,n)ht=e,Cs("onPageChangingComplete"),Yi();else{var i=e-ht;if(t)(e==gt-1&&0!=ht||0==e&&ht!=gt-1)&&(f||wt)&&Ti(i)>2?0>i?(vs(0,i+2),vs(200,-2)):(vs(0,i-2),vs(200,2)):(ht==gt-1&&0!=e||0==ht&&e!=gt-1)&&(f||wt)&&Ti(i)>2?0>i?(vs(0,-2),vs(200,i+2)):(vs(0,2),vs(200,i-2)):vs(0,i);else{var r,a=999;0>i?(r=-1,i*=-1):r=1,i/=2,a>i&&(a=i);for(var s=0,c=0,u=i/a,l=0;a>l;l++)s=Ci(u*(l+1)),vs(l?_e/4:0,2*(s-c)*r),c=s}}else Cs("onPageChangingComplete");return o},Ua=function(e,t){Ya(Ka(e),t)},ja=function(e,t){Ya(es(e),t)},Va=function(e,t){Ya(ts(e),t)},Za=function(e){Ya(j&&!e?N:E,bi)},Ga=function(e){return Y&&(!j||e?E+1>ht:ht>N-2)?Ja(e):mr(j&&!e?1:-1,Ae&&!j?1:0,2)},Qa=function(e){return Y&&(j&&!e?E+1>ht:ht>N-2)?Za(e):mr(j&&!e?-1:1,Ae&&j?1:0,2)},Ja=function(e){Ya(j&&!e?E:N,bi)},Ka=function(e){return e>0?No.lastIndexOf(parseInt(e)):-1},es=function(e){return Ao.lastIndexOf(e.toLowerCase())},ts=function(e){return Lo.lastIndexOf(e)},ns=function(){No=[],Ao=[],Lo=[];for(var e=0;gt>=e;e++)No[e]=Zt[e].__PageNumber,Ao[e]=Zt[e].__PageName?Zt[e].__PageName.toLowerCase():n,Lo[e]=Zt[e].__PageLabel},os=function(e,t){return t?void(Zt[e].__Data=t):Zt[e].__Data},is=function(){return!(Rt||zt||Cn)},rs=function(e,t){e==n&&(e=0),t==n&&(t=gt),E=j?gt-t:e,N=j?gt-e:t,0>E&&(E=0),N>gt&&(N=gt),E-=E%2,N+=1-N%2},as=function(){return!En&&!Se&&.01>Rn},ss=function(){var e=Zt[ht].__AutoFlipInterval||Zt[ht+1].__AutoFlipInterval;e=e==n?W:e,Do=t.setTimeout(ls,e)},cs=function(e){e==n&&(e=bi),Dt||(Dt=bi,e?ls():ss())},us=function(){Dt&&(Dt=mi,t.clearTimeout(Do))},ls=function(){if(!Qa(mi)){if(!X)return void Ss.stopAutoFlip();Za()}ss()},ds=function(){at&&(e("#b-pause").css("display",Dt?"":"none"),e("#b-play").css("display",Dt?"none":""))},ps=function(){Ro.requestFullscreen?Ro.requestFullscreen():Ro.mozRequestFullScreen?Ro.mozRequestFullScreen():Ro.webkitRequestFullScreen?Ro.webkitRequestFullScreen():Ro.msRequestFullscreen&&Ro.msRequestFullscreen(),Ho=bi},fs=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen(),Ho=mi},hs=function(){D&&(e("#b-fullscreen").css("display",Ho?"none":""),e("#b-fullscreenoff").css("display",Ho?"":"none"))},gs=function(e){hs(),Qr()},vs=function(e,t){var o={__delay:e,__pnAdd:t,__startTime:n};zo.push(o)},ms=function(){var e=lr(),t=zo[0];t.__startTime||(t.__startTime=lr()),t.__delay<e-t.__startTime&&mr(t.__pnAdd<0?-1:1,0,Ti(t.__pnAdd))&&zo.splice(0,1)},bs=function(e){Wo=e,Yo=o?o:"Untitled",Xo="Pageflip5 - "+Yo,qo=[],Oo=lr(),ks()},_s=function(){var e=lr()-Oo;switch(e=Math.floor(e/1e3),Wo){case 0:break;case 1:ga("send","event","Flipbooks","Book time",Yo,e);break;case 2:}},ys=function(e){qo[e]=lr()},ws=function(e){var t=lr()-qo[e];switch(t=Math.floor(t/1e3),Wo){case 0:break;case 1:ga("send","event","Flipbooks","Page "+e,Yo,t);break;case 2:}},ks=function(){switch(Wo){case 0:break;case 1:ga("send","event","Flipbooks","Book Opened",Yo,0);break;case 2:}},Ts=function(e){switch(Wo){case 0:break;case 1:ga("send","event","Flipbooks","Page "+e+" View",Yo,0);break;case 2:}},xs=["onFlip","onFlipEnd","onTop","onTopEnd","onLoad","onUnload","onRemove","onHide","onShow","onZoomIn","onZoomOut","onPageChange","onLinkClicked","onFlippingSequenceStarted","onAutoFlippingSequenceStarted","onAutoFlippingSequenceEnded","onManualFlippingSequenceEnded","onManualEnded","onPageChangingComplete","onStageResize"],Ps=function(t,n){if(e.isArray(t)){var o=t;e.each(o,function(e,t){Ps(t,n)})}else{if("function"==typeof pi[t]){var i=pi[t];pi[t]=[i]}e.isArray(pi[t])?pi[t].push(n):pi[t]=[n]}},Cs=function(t,n){var o;if("number"==typeof t&&"undefined"!=typeof xs[t]?o=xs[t]:"string"==typeof t&&xs.indexOf(t)>-1&&(o=t),"undefined"!==o){if(pi){var i=pi[o];"function"==typeof i?i(n):e.isArray(i)&&e.each(i,function(e,t){"function"==typeof t&&t(n)})}Wo&&("onTop"===o?(Ts(n),ys(n)):"onTopEnd"===o&&ws(n))}},Ss={gotoPage:function(e,t){return is()?(us(),Ya(e,t)):void 0},gotoPageNumber:function(e,t){return is()?(us(),Ua(e,t)):void 0},gotoPageName:function(e,t){return is()?(us(),ja(e,t)):void 0},gotoPageLabel:function(e,t){return is()?(us(),Va(e,t)):void 0},gotoFirstPage:function(e){is()&&(us(),Za(e))},gotoPrevPage:function(e){is()&&(us(),Ga(e))},gotoNextPage:function(e){is()&&(us(),Qa(e))},gotoLastPage:function(e){is()&&(us(),Ja(e))},startAutoFlip:function(e){is()&&L&&(cs(e),ds())},stopAutoFlip:function(){Dt&&(us(),ds())},toggleAutoFlip:function(){Dt?Ss.stopAutoFlip():Ss.startAutoFlip()},closePageflip:function(e){Gr(e)},getID:function(){return o},getPN:function(){return ht},getPageNumber:function(e){return Zt[e?e:ht].__PageNumber},getPageName:function(e){return Zt[e?e:ht].__PageName},getPageLabel:function(e){return Zt[e?e:ht].__PageLabel},showThumbnails:function(){J&&(yo?Da():La())},hideThumbnails:function(){J&&La()},zoomIn:function(){Pe&&(aa(),ha())},zoomOut:function(){sa(),ha()},toggleZoom:function(){En?Ss.zoomOut():Ss.zoomIn()},mouseControl:function(e){Fe=e},pageLimit:function(e,t){rs(e,t)},data:function(e,t){return os(e,t)},enterFullScreen:function(){return ps()},exitFullScreen:function(){return fs()},addPage:function(t,n,o){Di(e(t),n,o)},reloadPage:function(e){},removePage:function(e,t,n){Hi(e,t,n)},printLeft:Ta.bind(void 0,"left"),printRight:Ta.bind(void 0,"right"),printBoth:Ta,download:function(){if(Le)if(window.ActiveXObject){if(window.ActiveXObject&&document.execCommand){var t=window.open(Le,"_blank");t.document.close(),t.document.execCommand("SaveAs",!0,Le),t.close()}}else try{var n=document.createElement("a");n.href=Le,n.target="_blank",n.download=i;var o=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});n.dispatchEvent(o),(window.URL||window.webkitURL).revokeObjectURL(n.href)}catch(r){if("download"in document.createElement("a")){var a=e('<a download="flipbook">s</a>');a.attr("href",Le),a.attr("target","_blank"),a.css("display","none"),e("body").append(a),a.click(function(){e(this).remove()}),a[0].click()}else window.open(Le)}},getIsFullScreen:function(){return Ho},getIsThumbnailMode:function(){return J&&!yo},getCurrentPageNumber:function(){return ht},getFirstPageNumber:function(){return E},getLastPageNumber:function(){return N},getPageInfoList:function(){return Zt},updateHash:wa,addEventHandler:Ps,getInstance:function(){return Ke},getPagesTemplate:function(){return ut},getIsTouchDevice:function(){return"undefined"!==e.type(rn)},getIsMobileDevice:function(){return Uo||jo},getIsPhone:function(){return Uo},getIsTablet:function(){return jo},getBookWidth:function(){return vt},getBookHeight:function(){return mt},getBookScale:function(){return yt},getStageWidth:function(){return d},getStageHeight:function(){return p},getMargin:function(){return y},getControlbarHeight:function(){var e=0;return Q&&(e=at.getHeight()),e},getEndPN:function(){return Et},getClickEventName:function(){return an},getPfEvent:function(){return sn}},Bs=function(e,t){return e==n?Ss:Ke?Ss[e](t):[]};e.extend(e.fn,{pageflipInit:Ur,pageflip:Bs})}($,window)}catch(e){!function(){window.initFlipbook=function(){},$(function(){var e,t,n,o,i,r,a,s,c,u,l,d,p,f,h,g,v,m,b,_,y=$(document),w=$(window),k=$("#pageflip"),T="",x=45,P=32,C=!0,S=[],B=[1,void 0],F=0,I=function(){var h=$("#Template-legacy").html();E(),t=$(h),e=t.find(".FBLcontrolbar"),a=t.find(".FBLbook"),n=t.find(".FBLcontrolbar-button--toBeginning"),o=t.find(".FBLcontrolbar-button--back"),i=t.find(".FBLcontrolbar-button--forward"),r=t.find(".FBLcontrolbar-button--toEnd"),f=t.find(".FBLcontrolbar-input"),s=t.find(".FBLbook-pageContainer"),c=s.find(".FBLbook-left"),u=s.find(".FBLbook-right"),l=c.find(".FBLbook-left-content"),d=u.find(".FBLbook-right-content"),p=s.find(".FBLcontrolbar-inputContainer"),k.append(t),N(),R(),w.on("resize",M),M(),window.goToLabel=function(e){A(e)},"string"===$.type(window.flipbookSettings.IncDirPath)&&(T=window.flipbookSettings.IncDirPath)},M=function(){var e=y.width(),t=y.height();if(e!==h||t!==g){var n="undefined"===$.type(h);h=e,g=t;var o=g-x;a.css("height",o+"px");var i=h;b=o-2*P,_=i-2*P,s.css({width:q(_),height:q(b),"margin-top":q(P),"margin-left":q(P)}),n?A(1):D()}},E=function(){F=0,"undefined"!==$.type(window.flipbookSettings)&&"undefined"!==$.type(window.flipbookSettings.pages)&&$.each(window.flipbookSettings.pages,function(e,t){var n=T+"inc/pages/page"+e+".jpg",o=[];$.isArray(t.links)&&(o=t.links),F+=1,S.push({pageNumber:F,backgroundFile:n,linkList:o})}),v=!0,m=F%2!==1},N=function(){n.on("click",function(){A(1)}),o.on("click",function(){A(B[0]-1)}),i.on("click",function(){A(C?B[0]+1:B[0]+2)}),r.on("click",function(){A(F)})},A=function(e){var t=function(e,t){"back"===e?t?(n.removeClass("FBLcontrolbar-button--toBeginningInAct"),o.removeClass("FBLcontrolbar-button--backInAct"),n.addClass("FBLcontrolbar-button--toBeginning"),o.addClass("FBLcontrolbar-button--back")):(n.addClass("FBLcontrolbar-button--toBeginningInAct"),o.addClass("FBLcontrolbar-button--backInAct"),n.removeClass("FBLcontrolbar-button--toBeginning"),o.removeClass("FBLcontrolbar-button--back")):"forward"===e&&(t?(i.addClass("FBLcontrolbar-button--forward"),r.addClass("FBLcontrolbar-button--toEnd"),i.removeClass("FBLcontrolbar-button--forwardInAct"),r.removeClass("FBLcontrolbar-button--toEndInAct")):(i.removeClass("FBLcontrolbar-button--forward"),r.removeClass("FBLcontrolbar-button--toEnd"),i.addClass("FBLcontrolbar-button--forwardInAct"),r.addClass("FBLcontrolbar-button--toEndInAct")))},a=!1;return 2>e?(B=[1,void 0],t("back",!1),t("forward",!0),D(),a=!0):F>e||!m&&e===F?(B=C?[e,void 0]:e%2===1?[e-1,e]:[e,e+1],t("back",!0),t("forward",!0),D(),a=!0):m&&e===F&&(B=[e,void 0],t("back",!0),t("forward",!1),D(),a=!0),a&&z(),a},L=function(e){var t,n=S[e-1];if("undefined"===$.type(n.$loadedImg)){var o;"undefined"===$.type(n.promise)?(o=$.Deferred(),n.promise=o):o=n.promise,t=$("<img />",{src:n.backgroundFile}).css("display","none").appendTo($("body")).on("click",function(){var e=window.open(n.backgroundFile,"_blank");e&&e.focus()}).on("load",function(){n.$loadedImg=t,n.$img=void 0,o.resolve()}).on("error",function(){t.remove(),setTimeout(function(){L(e)},500)}),n.$img=t}return n},D=function(){var e,t,n,o,i,r,a,s,p=function(e,t,n,o,i,r,a){t.css({top:r,left:a}),t.append(e.$loadedImg),$.each(e.linkList,function(e,t){if("undefined"!==$.type(t.link)){var r,a=window.parseInt(t.top,10),s=window.parseInt(t.left,10),c=window.parseInt(t.width,10),u=window.parseInt(t.height,10);window.isNaN(a)||window.isNaN(s)||window.isNaN(c)||window.isNaN(u)||(a=Math.round(a*i),s=Math.round(s*o),c=Math.round(c*o),u=Math.round(u*i),r=t.is_internal?$('<a class="pf-hotspot" onclick="goToLabel('+t.link+')"></a>').css({top:q(a),left:q(s),width:q(c),height:q(u)}):$("<a></a>",{"class":"pf-hotspot",href:t.link}).css({top:q(a),left:q(s),width:q(c),height:q(u)}),r.on("click",function(e){var t=$(e.target).attr("href");if(!t||/^mailto:/.test(t))return!0;e.preventDefault();var n=window.open(t,"_blank");n&&n.focus()}),n.append(r))}}),e.$loadedImg.show()},f=0;c.add(u).children("img").detach(),l.add(d).html(""),B[0]&&B[0]<=F&&(e=L(B[0]),a=e.promise,f+=1),B[1]&&B[1]<=F&&(t=L(B[1]),s=t.promise,f+=1);var h,g;1===f&&a.done(function(){B[0]===e.pageNumber&&(i=H(e.$loadedImg,c),h=Math.floor(_/2-i.width/2),g=Math.floor((b-i.height)/2),p(e,c,l,i.widthMultiplier,i.heightMultiplier,g,h))}),2===f&&$.when(a,s).done(function(){if(B[0]===e.pageNumber&&B[1]===t.pageNumber){n=e.$loadedImg,o=t.$loadedImg,i=H(n,c),r=H(o,u);var a=i.width+r.width;h=Math.floor(_/2-a/2),g=Math.floor((b-i.height)/2);var s=h+i.width;p(e,c,l,i.widthMultiplier,i.heightMultiplier,g,h),p(t,u,d,r.widthMultiplier,r.heightMultiplier,g,s)}})},H=function(e,t){var n=e.height(),o=e.width(),i=Math.floor(o*(b/n)),r=Math.floor(n*(b/n)),a=_;return C||(a=Math.floor(_/2)),i>a&&(r=Math.floor(r*(a/i)),i=Math.floor(a)),e.add(t).css({width:q(i),height:q(r)}),{height:r,width:i,heightMultiplier:r/n,widthMultiplier:i/o}},R=function(){var e,t=function(){var t=f.val(),n=parseInt(t,10),o=!1;isNaN(n)||(o=A(n)),o||f.val(e),e=void 0,O()};f.on("click",function(){f.focus()}),f.on("focus",function(){"undefined"===$.type(e)&&(e=f.val()),f.val("")}),f.on("blur",t),f.keypress(function(e){13===e.which&&(f.trigger("blur"),t())})},z=function(){var e="";"number"===$.type(B[0])&&(e=B[0]),"number"===$.type(B[1])&&(e+=" - "+B[1]),O(e)},O=function(t){"undefined"===$.type(t)&&(t=f.val());var n=t.length;t.length<5&&(n=5);for(var o="",i=0;n>i;i+=1)o+="9";n%2>.1&&(o[Math.floor(n/2+1)]="-");var r=$("<span></span>").addClass("ControlBar-pageInputTest");r.text(o).appendTo(e);var a=r.width()+2;r.remove(),p.css({width:a}),f.val(t)},q=function(e){return e+"px"};try{I()}catch(W){alert(W.name+": "+W.message)}})}()}